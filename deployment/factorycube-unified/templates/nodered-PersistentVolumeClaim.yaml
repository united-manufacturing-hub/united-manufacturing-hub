{{- if .Values.nodered.enabled -}}

kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: {{ include "factorycube-unified.fullname" . }}-nodered-claim
  annotations:
    "helm.sh/resource-policy": keep
  labels:
    {{- include "factorycube-unified.labels.nodered" . | nindent 4 }}
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: {{ .Values.nodered.storageRequest }}

{{- end }}
