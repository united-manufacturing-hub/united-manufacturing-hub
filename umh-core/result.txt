go vet -tags=test ./...
# See lefthook.yaml for more details
nilaway -exclude-pkgs="github.com/prometheus/prometheus/util/textparse,github.com/onsi/ginkgo/v2" -exclude-errors-in-files="integration/" ./...
golangci-lint run ./...
0 issues.
ginkgo -r -v --race --tags=test --label-filter='!integration && !redpanda-extended && !tls' --fail-fast ./...
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/integration.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2631019462/000019.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/internal/fsm.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2787751957/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/pkg/generator.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1844859701/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/graphql.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-476354442/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/topicbrowser.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1885410764/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/pkg/subscriber.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-4240331580/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-955737778/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/datamodel.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1224139223/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/benthos.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1238130333/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/benthos_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-556976065/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/agent_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-4091734522/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/s6.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2204344532/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/redpanda_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3755647967/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/container.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2542806427/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/control.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2138440075/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3824810941/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/agent_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1550615669/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/filesystem.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1211603979/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/connection.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-777642511/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/container_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1749394194/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: UMH Integration Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/integration
=======================================================================================================
Random Seed: [1m1752175568[0m

Will run [1m0[0m of [1m20[0m specs
[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m

[38;5;10m[1mRan 0 of 20 Specs in 0.005 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m0 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m20 Skipped[0m
PASS
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/benthos_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-4081324197/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/nmap.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1339378632/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/protocolconverter/runtime_config.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1839492181/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/protocolconverter.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3504511429/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/benthos.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-262033341/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/dataflowcomponent.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1617219699/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: BaseFSM Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm
================================================================================================
Random Seed: [1m1752175568[0m

Will run [1m8[0m of [1m8[0m specs
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould track errors and reset correctly[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:67[0m
  2025-07-10T21:26:19.459+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:19.460+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould detect permanent failure after max retries[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:87[0m
  2025-07-10T21:26:19.461+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:19.461+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:19.461+0200	ERROR	Backoff manager has exceeded maximum retries, marking as permanently failed: test error
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould generate appropriate backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:129[0m
  2025-07-10T21:26:19.464+0200	DEBUG	Suspending operations for 1 ticks because of error: reconcile failed
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould clear errors with ResetState[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:142[0m
  2025-07-10T21:26:19.466+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:19.466+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen working with the FSM [0m[1mshould maintain desired and current states[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:160[0m
  2025-07-10T21:26:19.467+0200	INFO	Setting desired state of FSM test-fsm to stopped
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using SendEvent with different context states [0m[1mshould reject events when context is already cancelled[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:172[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using SendEvent with different context states [0m[1mshould reject events when deadline is too close[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:184[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using SendEvent with different context states [0m[1mshould accept events with sufficient deadline time remaining[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:200[0m
  2025-07-10T21:26:19.469+0200	DEBUG	FSM test-fsm attempting transition: current_state='stopped' -> event='start' (desired_state='running')
  2025-07-10T21:26:19.469+0200	DEBUG	FSM test-fsm successful transition: 'stopped' -> 'running' via event='start' (desired_state='running')
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m

[38;5;10m[1mRan 8 of 8 Specs in 0.015 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m8 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m0 Skipped[0m
PASS
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/redpanda.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3598957835/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/s6.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3530749663/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/redpanda_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-842841595/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/starvationchecker.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2673218032/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/benthos_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-316929582/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/topicbrowser.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3083132902/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/connection.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2599106423/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: Backoff Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff
===============================================================================================
Random Seed: [1m1752175568[0m

Will run [1m25[0m of [1m25[0m specs
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen initializing [0m[1mshould create a manager with default config[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:55[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen initializing [0m[1mshould create a manager with custom config[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:61[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen handling errors [0m[1mshould track errors and reset correctly[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:67[0m
  2025-07-10T21:26:20.720+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen handling errors [0m[1mshould detect permanent failure after max retries[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:86[0m
  2025-07-10T21:26:20.720+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:20.720+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:20.720+0200	ERROR	Backoff manager has exceeded maximum retries, marking as permanently failed: test error
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen checking operation skip [0m[1mshould not skip operations initially[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:121[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen checking operation skip [0m[1mshould skip operations in backoff state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:125[0m
  2025-07-10T21:26:20.723+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:20.724+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen checking operation skip [0m[1mshould not skip operations after reset[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:135[0m
  2025-07-10T21:26:20.725+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:20.725+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen working with backoff errors [0m[1mshould generate appropriate temporary backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:149[0m
  2025-07-10T21:26:20.726+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen working with backoff errors [0m[1mshould generate appropriate permanent backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:160[0m
  2025-07-10T21:26:20.727+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:20.727+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen working with backoff errors [0m[1mshould preserve original error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:189[0m
  2025-07-10T21:26:20.727+0200	DEBUG	Suspending operations for 1 ticks because of error: original test error
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using error helpers [0m[1mshould correctly identify temporary backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:199[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using error helpers [0m[1mshould correctly identify permanent failure errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:206[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using error helpers [0m[1mshould not identify regular errors as backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:213[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mintegration with time-based backoff [0m[1mshould respect backoff delay[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:222[0m
  2025-07-10T21:26:20.731+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:26:20.731+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using backoff manager in FSM [0m[1mshould calculate reasonable backoff intervals[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:243[0m
  2025-07-10T21:26:20.732+0200	DEBUG	Suspending operations for 1 ticks because of error: error1
  2025-07-10T21:26:20.732+0200	DEBUG	Suspending operations for 1 ticks because of error: error2
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mIntegration Tests [38;5;243mwhen using BackoffManager in components [0m[1mshould handle temporary failures with retries[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/integration_test.go:129[0m
  2025-07-10T21:26:20.733+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
  2025-07-10T21:26:20.733+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mIntegration Tests [38;5;243mwhen using BackoffManager in components [0m[1mshould handle permanent failures[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/integration_test.go:155[0m
  2025-07-10T21:26:20.734+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mIntegration Tests [38;5;243mwhen using BackoffManager in components [0m[1mshould succeed after failures and reset error state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/integration_test.go:181[0m
  2025-07-10T21:26:20.740+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen checking error types [0m[1mshould correctly identify temporary backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:29[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen checking error types [0m[1mshould correctly identify permanent failure errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:50[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen checking error types [0m[1mshould handle mixed and special cases[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:71[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould extract the original error from wrapped errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:92[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould handle unwrapped errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:104[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould handle nil errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:111[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould handle deeply nested errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:116[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m

[38;5;10m[1mRan 25 of 25 Specs in 0.026 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m25 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m0 Skipped[0m
PASS
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/nmap.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1614832856/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/benthos.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-4025063849/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/dataflowcomponent.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-732178502/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/communicator.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3718201261/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/protocolconverter.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3481540802/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/redpanda_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-4269175373/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/redpanda.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1970646431/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/topicbrowser.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1588037080/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/s6.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-677010998/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: Actions Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions
============================================================================================================
Random Seed: [1m1752175568[0m

Will run [1m205[0m of [1m205[0m specs
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mNewDeleteDataModelAction [0m[1mshould create a new action with correct fields[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:103[0m
 [INFO]	[logger/logger.go:178:178]	Logger initialized - level=PRODUCTION, format=PRETTY
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:110[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mParse [0mwith invalid payload type [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:124[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mParse [0mwith nil payload [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:135[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mValidate [0mwith valid payload [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:154[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mValidate [0mwith missing name [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:169[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould execute successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:187[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould send correct action replies to outbound channel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:203[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.012 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwhen data model does not exist [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:235[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwhen config manager fails [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:256[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return empty payload before parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:267[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return parsed payload after parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:272[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mGetState [0m[1mshould return the current state of the system[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:57[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mStateTransitions [0m[1mshould simulate a component starting up[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:116[0m
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle adding a new component[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:170[0m
 [INFO]	[actions/stateMocker.go:183:183]	Detected new dataflow component{name 15 0 new-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle removing a component[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:208[0m
 [INFO]	[actions/stateMocker.go:218:218]	Detected removed dataflow component{name 15 0 existing-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 existing-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 existing-component <nil>} {state 15 0 removed <nil>}
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle editing a component's configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:256[0m
 [INFO]	[actions/stateMocker.go:297:297]	Detected changed dataflow component{name 15 0 edit-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 edit-component <nil>} {state 15 0 benthos_degraded <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 edit-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle editing a component's configuration with changed component name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:328[0m
 [INFO]	[actions/stateMocker.go:265:265]	Detected changed dataflow component; old name: {oldName 15 0 old-component-name <nil>} {newName 15 0 new-component-name <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 old-component-name <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 old-component-name <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.006 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mParse [0m[1mshould parse valid request payload with UUIDs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:163[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [00000000-0000-0000-0000-000000000001 00000000-0000-0000-0000-000000000002]
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mParse [0m[1mshould parse an empty UUID list[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:183[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: []
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mParse [0m[1mshould handle invalid payload format gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:198[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: []
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mValidate [0m[1mshould validate with any payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:212[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [00000000-0000-0000-0000-000000000001]
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mValidate [0m[1mshould validate even with empty payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:227[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: []
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould retrieve components that match the requested UUIDs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:242[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [244a3369-238c-59cd-93b2-c3f54481c183]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=test-component-1
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[244a3369-238c-59cd-93b2-c3f54481c183:{0  {map[] custom <nil>} test-component-1 <nil> {{0xc000398340 <nil> {kafka:
    addresses:
        - localhost:9092
    topics:
        - test-topic
 kafka} {kafka:
    addresses:
        - localhost:9092
    topic: output-topic
 kafka} {map[0:{mapping: root = this
 mapping}] <nil>} 0xc00004a400}} active}]
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould return an empty response for non-existent components[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:290[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [11111111-1111-1111-1111-111111111111]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould handle the case when no dataflowcomponent manager exists[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:321[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [00000000-0000-0000-0000-000000000001]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould handle components with missing observed state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:352[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [3e20632c-5b40-5054-9220-3cf6b8c89533]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=test-component-missing-state
 [WARN]	[actions/dataflow-component-parser.go:361:361]	[Communicator]			No observed state found for dataflowcomponent - instanceID=test-component-missing-state
 [WARN]	[actions/get-dataflowcomponent.go:148:148]	[Communicator]			Failed to build dataflowcomponent data: no observed state found for dataflowcomponent
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mbuildDataFlowComponentDataFromSnapshot [0m[1mshould correctly build DataFlowComponentConfig from snapshot[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:412[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [feb26f78-ab1b-51c0-bdc2-60c2da8d0001]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=test-component-build
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[feb26f78-ab1b-51c0-bdc2-60c2da8d0001:{0  {map[] custom <nil>} test-component-build <nil> {{0xc0003981c8 <nil> {test: input
 test} {test: output
 test} {map[] <nil>} <nil>}} active}]
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mbuildDataFlowComponentDataFromSnapshot [0m[1mshould return error for invalid observed state type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:473[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [b618f24c-e53c-54e8-8090-5777ef56f670]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=invalid-type-component
 [ERROR]	[actions/dataflow-component-parser.go:353:353]	[Communicator]			Observed state is of unexpected type - instanceID=invalid-type-component
 [WARN]	[actions/get-dataflowcomponent.go:148:148]	[Communicator]			Failed to build dataflowcomponent data: invalid observed state type for dataflowcomponent invalid-type-component
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould parse valid custom dataflow component payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:90[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould parse valid custom dataflow component payload with inject data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:126[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for invalid YAML in inject data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:167[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:210[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for unsupported component type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:237[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing customDataFlowComponent[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:254[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing inputs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:273[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing pipeline.processors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:306[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould reject flattened payload structure without customDataFlowComponent[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:341[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mValidate [0m[1mshould pass validation after valid parse[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:378[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould add dataflow component to configuration successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:419[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component): starting actionReplyState:action-confirmed actionUUID:5abbe56d-e2e2-466c-8c22-46b416c7865a]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component): adding to configuration actionReplyState:action-executing actionUUID:5abbe56d-e2e2-466c-8c22-46b416c7865a]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:5abbe56d-e2e2-466c-8c22-46b416c7865a]
 [INFO]	[actions/stateMocker.go:183:183]	Detected new dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 29 s]  actionReplyState:action-executing actionUUID:5abbe56d-e2e2-466c-8c22-46b416c7865a]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 active <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 28 s] completed. is in state 'active' with correct configuration actionReplyState:action-executing actionUUID:5abbe56d-e2e2-466c-8c22-46b416c7865a]
[38;5;10m• [2.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould fail if a non-numerous index is given[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:523[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component): starting actionReplyState:action-confirmed actionUUID:35dd9d4d-345f-4d65-aebd-7db291af728a]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component): at least one processor with a non-numerous key was found actionReplyState:action-failure actionUUID:35dd9d4d-345f-4d65-aebd-7db291af728a]
[38;5;10m• [0.102 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould handle AtomicAddDataflowcomponent failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:583[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component): starting actionReplyState:action-confirmed actionUUID:520afad4-742f-4e1d-9456-3de099887e55]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component): adding to configuration actionReplyState:action-executing actionUUID:520afad4-742f-4e1d-9456-3de099887e55]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component): failed to add dataflow component: mock add dataflow component failure. actionReplyState:action-failure actionUUID:520afad4-742f-4e1d-9456-3de099887e55]
==================
WARNING: DATA RACE
Read at 0x00c000147260 by goroutine 198:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:635 +0xaa4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous write at 0x00c000147260 by goroutine 197:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.ConsumeOutboundMessages()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/action_helper.go:78 +0xf8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.1.gowrap1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:76 +0x44

Goroutine 198 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 197 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:76 +0x7ac
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.103 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould process inject data with cache resources, rate limit resources, and buffer[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:647[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component-with-inject): starting actionReplyState:action-confirmed actionUUID:a59077ff-7a36-4f01-b7ec-0b77f1549fdc]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component-with-inject): adding to configuration actionReplyState:action-executing actionUUID:a59077ff-7a36-4f01-b7ec-0b77f1549fdc]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(test-component-with-inject): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:a59077ff-7a36-4f01-b7ec-0b77f1549fdc]
 [INFO]	[actions/stateMocker.go:183:183]	Detected new dataflow component{name 15 0 test-component-with-inject <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 29 s]  actionReplyState:action-executing actionUUID:a59077ff-7a36-4f01-b7ec-0b77f1549fdc]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 active <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 28 s] completed. is in state 'active' with correct configuration actionReplyState:action-executing actionUUID:a59077ff-7a36-4f01-b7ec-0b77f1549fdc]
[38;5;10m• [2.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould deploy dataflow component with initial state 'stopped'[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:724[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(stopped-component): starting actionReplyState:action-confirmed actionUUID:c3ead0db-8e8c-49a0-9e9f-89cfc231f04c]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(stopped-component): adding to configuration actionReplyState:action-executing actionUUID:c3ead0db-8e8c-49a0-9e9f-89cfc231f04c]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:deploy(stopped-component): configuration updated; but ignoring the health check actionReplyState:action-executing actionUUID:c3ead0db-8e8c-49a0-9e9f-89cfc231f04c]
[38;5;10m• [0.102 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mParse [0m[1mshould parse valid request payload with UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:80[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: aa5151e5-94b7-4f2e-b59a-1fd8e7c07e52
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mParse [0m[1mshould handle invalid payload format gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:95[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 00000000-0000-0000-0000-000000000000
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mParse [0m[1mshould handle malformed UUID gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:111[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 00000000-0000-0000-0000-000000000000
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mValidate [0m[1mshould validate with any parsed payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:124[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 24a9e45f-c179-483f-9644-c020ebd3b6c4
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter exists and is initialized [0m[1mshould return protocol converter with read and write DFC[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:141[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 3ff48d04-7844-5b3a-8e3b-4bc36fdf86ce
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [INFO]	[actions/get-protocolconverter.go:352:352]	[Communicator]			Protocol converter found and built, returning response
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter exists but is not initialized [0m[1mshould return protocol converter without DFC configs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:292[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: af0addc7-1ff5-51af-ae6d-0142bcef929d
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [INFO]	[actions/get-protocolconverter.go:352:352]	[Communicator]			Protocol converter found and built, returning response
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter does not exist [0m[1mshould return error for non-existent protocol converter[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:385[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: e5a7fea3-d973-43fa-ae7d-6e6a483bc597
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter manager does not exist [0m[1mshould return error when no protocol converter manager exists[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:416[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: eab25c68-0f14-41e1-a470-6fd291192a74
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter has invalid observed state [0m[1mshould return error for invalid observed state type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:442[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: c787986c-53f0-5014-b5d9-a23c27039107
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [ERROR]	[actions/get-protocolconverter.go:222:222]	[Communicator]			Observed state is of unexpected type - instanceID=test-protocol-converter-invalid-state
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter has invalid observed state [0m[1mshould return error for nil observed state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:485[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 940cf3ed-783c-557e-91a1-50ba2093d36d
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [ERROR]	[actions/get-protocolconverter.go:222:222]	[Communicator]			Observed state is of unexpected type - instanceID=test-protocol-converter-nil-state
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mNewEditDataModelAction [0m[1mshould create a new action with correct fields[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:80[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:89[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mParse [0mwith invalid payload type [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:114[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mParse [0mwith nil payload [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:125[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith valid payload [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:149[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith missing name [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:168[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith empty structure [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:185[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith nil structure [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:202[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith valid data model structure [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:236[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid _refModel format [0m[1mshould fail with no version[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:243[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid _refModel format [0m[1mshould fail with no version in complex name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:262[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid _refModel format [0m[1mshould fail with empty version[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:281[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid version format [0m[1mshould fail with version not matching v\d+[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:302[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid field combinations [0m[1mshould fail when field has both _type and _refModel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:324[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid field combinations [0m[1mshould fail when field has both subfields and _refModel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:345[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid leaf nodes [0m[1mshould fail when leaf node has no _type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:372[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid submodel nodes [0m[1mshould fail when submodel node has additional fields besides _refModel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:389[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith multiple validation errors [0m[1mshould return all validation errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:412[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould execute successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:498[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
 [INFO]	[actions/edit-datamodel.go:228:228]	[Communicator]			Successfully created data contract _existing-model_v2 for data model existing-model version v2
[38;5;10m• [0.008 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould send correct action replies to outbound channel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:516[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
 [INFO]	[actions/edit-datamodel.go:228:228]	[Communicator]			Successfully created data contract _existing-model_v2 for data model existing-model version v2
[38;5;10m• [0.013 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mExecute [0mwith configuration manager error [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:556[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return empty payload before parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:571[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return parsed payload after parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:578[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mIntegration with different field types [0m[1mshould handle editing model with complex nested structures[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:600[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
 [INFO]	[actions/edit-datamodel.go:228:228]	[Communicator]			Successfully created data contract _complex-model_v2 for data model complex-model version v2
[38;5;10m• [0.006 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould parse valid read DFC payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:127[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould parse valid write DFC payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:174[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould return error for missing UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:205[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould return error for invalid payload format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:224[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mValidate [0m[1mshould validate valid read DFC configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:235[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mValidate [0m[1mshould return error for invalid UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:262[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mValidate [0m[1mshould return error for invalid DFC configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:271[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould successfully add read DFC to empty protocol converter[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:296[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting edit of protocol converter e8122b4c-3fa4-5a8d-88f3-640212f5c4be to add read DFC actionReplyState:action-confirmed actionUUID:b7673181-4c76-4dc5-ba60-6a32ca9e2793]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:b7673181-4c76-4dc5-ba60-6a32ca9e2793]
[38;5;10m• [0.102 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould handle protocol converter not found error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:378[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting edit of protocol converter 3362eab5-7b92-4d4c-baeb-0450df0c0152 to add read DFC actionReplyState:action-confirmed actionUUID:77455a98-917b-48df-93f1-ec02da231af4]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:77455a98-917b-48df-93f1-ec02da231af4]
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to apply configuration mutation: protocol converter with UUID 3362eab5-7b92-4d4c-baeb-0450df0c0152 not found actionReplyState:action-failure actionUUID:77455a98-917b-48df-93f1-ec02da231af4]
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould handle AtomicEditProtocolConverter failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:411[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting edit of protocol converter e8122b4c-3fa4-5a8d-88f3-640212f5c4be to add read DFC actionReplyState:action-confirmed actionUUID:f4f16382-71f9-4630-b18b-1799b12c927e]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:f4f16382-71f9-4630-b18b-1799b12c927e]
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to persist configuration changes: failed to update protocol converter: mock edit protocol converter failure actionReplyState:action-failure actionUUID:f4f16382-71f9-4630-b18b-1799b12c927e]
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould handle config manager get config failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:444[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting edit of protocol converter e8122b4c-3fa4-5a8d-88f3-640212f5c4be to add read DFC actionReplyState:action-confirmed actionUUID:00e4513b-4576-4237-a46a-bfbb14c0a485]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:00e4513b-4576-4237-a46a-bfbb14c0a485]
[38;5;10m• [0.005 seconds][0m
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to apply configuration mutation: failed to get current configuration: mock get config failure actionReplyState:action-failure actionUUID:00e4513b-4576-4237-a46a-bfbb14c0a485]
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mParse [0m[1mshould parse valid UUID payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:100[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mParse [0m[1mshould return error for missing UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:112[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mParse [0m[1mshould return error for invalid UUID format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:122[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mValidate [0m[1mshould pass validation with valid UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:136[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mExecute [0m[1mshould delete existing dataflow component from configuration successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:152[0m
 [INFO]	[actions/delete-dataflowcomponent.go:141:141]	[Communicator]			Executing DeleteDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting deletion of dataflow component with UUID: 957e97dc-fbe9-5c5c-be05-3484460901a9 actionReplyState:action-confirmed actionUUID:9d72ff70-4fbd-44f4-82d3-7bdb12312de9]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Removing dataflow component from configuration... actionReplyState:action-executing actionUUID:9d72ff70-4fbd-44f4-82d3-7bdb12312de9]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Configuration updated. Waiting for dataflow component to be fully removed from the system... actionReplyState:action-executing actionUUID:9d72ff70-4fbd-44f4-82d3-7bdb12312de9]
 [INFO]	[actions/stateMocker.go:218:218]	Detected removed dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Verifying removal of dataflow component 'test-component' (28s remaining)... actionReplyState:action-executing actionUUID:9d72ff70-4fbd-44f4-82d3-7bdb12312de9]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Component 'test-component' still exists in state 'removed'. Waiting for removal (28s remaining)... actionReplyState:action-executing actionUUID:9d72ff70-4fbd-44f4-82d3-7bdb12312de9]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Verifying removal of dataflow component 'test-component' (27s remaining)... actionReplyState:action-executing actionUUID:9d72ff70-4fbd-44f4-82d3-7bdb12312de9]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Dataflow component 'test-component' has been successfully removed from the system. actionReplyState:action-executing actionUUID:9d72ff70-4fbd-44f4-82d3-7bdb12312de9]
[38;5;10m• [2.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mExecute [0m[1mshould handle AtomicDeleteDataflowcomponent failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:184[0m
 [INFO]	[actions/delete-dataflowcomponent.go:141:141]	[Communicator]			Executing DeleteDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting deletion of dataflow component with UUID: 957e97dc-fbe9-5c5c-be05-3484460901a9 actionReplyState:action-confirmed actionUUID:6f9f2881-4ef6-45e5-ad4b-5de33fa06127]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Removing dataflow component from configuration... actionReplyState:action-executing actionUUID:6f9f2881-4ef6-45e5-ad4b-5de33fa06127]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to delete dataflow component: mock delete dataflow component failure actionReplyState:action-failure actionUUID:6f9f2881-4ef6-45e5-ad4b-5de33fa06127]
==================
WARNING: DATA RACE
Read at 0x00c000146d20 by goroutine 482:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:211 +0x4a4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous write at 0x00c000146d20 by goroutine 481:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.ConsumeOutboundMessages()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/action_helper.go:78 +0xf8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.1.gowrap1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:86 +0x44

Goroutine 482 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 481 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:86 +0x92c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.102 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mExecute [0m[1mshould return error when component not found[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:223[0m
 [INFO]	[actions/delete-dataflowcomponent.go:141:141]	[Communicator]			Executing DeleteDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting deletion of dataflow component with UUID: d923b6f5-1c6b-4a38-a30a-da10fdf737d2 actionReplyState:action-confirmed actionUUID:cc48189a-bc76-4928-b9d4-12f91f7f4e54]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Removing dataflow component from configuration... actionReplyState:action-executing actionUUID:cc48189a-bc76-4928-b9d4-12f91f7f4e54]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to delete dataflow component: dataflow component with UUID not found actionReplyState:action-failure actionUUID:cc48189a-bc76-4928-b9d4-12f91f7f4e54]
[38;5;10m• [0.101 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mNewAddDataModelAction [0m[1mshould create a new action with correct fields[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:81[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:90[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mParse [0mwith invalid payload type [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:112[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mParse [0mwith nil payload [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:123[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould execute successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:474[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [INFO]	[actions/add-datamodel.go:192:192]	[Communicator]			Successfully created data contract _test-model_v1 for data model test-model
[38;5;10m• [0.006 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould send correct action replies to outbound channel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:502[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [INFO]	[actions/add-datamodel.go:192:192]	[Communicator]			Successfully created data contract _test-model_v1 for data model test-model
==================
WARNING: DATA RACE
Write at 0x00c000266240 by goroutine 532:
  runtime.recvDirect()
      /usr/local/go/src/runtime/chan.go:405 +0x7c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func1.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:77 +0x38
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c000266240 by goroutine 531:
  runtime.chansend1()
      /usr/local/go/src/runtime/chan.go:162 +0x2c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.sendActionReplyInternal()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:298 +0x3b4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.SendActionReplyWithAdditionalContext()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:265 +0x84
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.SendActionReply()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:253 +0xabc
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*AddDataModelAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel.go:193 +0xa10
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func1.5.1.3.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:505 +0x54

Goroutine 532 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:286 +0x20bc
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 531 (finished) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func1.5.1.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:503 +0x94
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.013 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mExecute [0mwhen data contract creation fails [0m[1mshould still succeed but indicate data contract creation failed[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:543[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [WARN]	[actions/add-datamodel.go:188:188]	[Communicator]			Failed to automatically create data contract for data model test-model: data contract creation failed
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return empty payload before parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:574[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mIntegration with different field types [0m[1mshould handle complex nested structures[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:584[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [INFO]	[actions/add-datamodel.go:192:192]	[Communicator]			Successfully created data contract _complex-model_v1 for data model complex-model
[38;5;10m• [0.006 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mParse [0m[1mshould parse valid get logs payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:185[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189143 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mParse [0m[1mshould return an error if the payload is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:198[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{0  }
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould validate a valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:212[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189144 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the payload is missing a required field[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:226[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189144  405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{0 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the log type is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:252[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189145 invalid 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is missing on DFC log type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:266[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189145 dfc }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is missing on Protocol Converter log types[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:279[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189146 protocol-converter-read }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189146 protocol-converter-write }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:303[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189146 dfc invalid}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mdfc[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:349[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189147 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1magent[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:350[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189148 agent }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mredpanda[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:351[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189149 redpanda }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mprotocol-converter-read[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:352[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189150 protocol-converter-read 3ff48d04-7844-5b3a-8e3b-4bc36fdf86ce}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mprotocol-converter-write[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:353[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189150 protocol-converter-write 3ff48d04-7844-5b3a-8e3b-4bc36fdf86ce}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0m[1mshould return logs for the given start time[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:355[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752164789151 agent }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0m[1mshould handle missing manager errors gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:373[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189152 redpanda }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0m[1mshould handle missing instance errors gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:394[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089189154 agent }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould parse valid protocol converter payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:98[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:120[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for missing connection IP[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:138[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for missing connection port[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:156[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for invalid payload format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:174[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mValidate [0m[1mshould pass validation with valid protocol converter configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:186[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mValidate [0m[1mshould fail validation with missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:205[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mExecute [0m[1mshould deploy protocol converter successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:224[0m
 [INFO]	[actions/deploy-protocolconverter.go:126:126]	[Communicator]			Executing DeployProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting deployment of protocol converter: test-protocol-converter actionReplyState:action-confirmed actionUUID:dbf19aba-6cec-4084-808c-21cefe1a4759]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Adding protocol converter to configuration... actionReplyState:action-executing actionUUID:dbf19aba-6cec-4084-808c-21cefe1a4759]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Waiting for protocol converter to be active... actionReplyState:action-executing actionUUID:dbf19aba-6cec-4084-808c-21cefe1a4759]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Protocol converter successfully deployed and activated actionReplyState:action-executing actionUUID:dbf19aba-6cec-4084-808c-21cefe1a4759]
[38;5;10m• [0.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mExecute [0m[1mshould handle AtomicAddProtocolConverter failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:283[0m
 [INFO]	[actions/deploy-protocolconverter.go:126:126]	[Communicator]			Executing DeployProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting deployment of protocol converter: test-protocol-converter actionReplyState:action-confirmed actionUUID:0b5c71c0-005e-45e2-a396-8133e0c99ab0]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Adding protocol converter to configuration... actionReplyState:action-executing actionUUID:0b5c71c0-005e-45e2-a396-8133e0c99ab0]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to add protocol converter: mock add protocol converter failure actionReplyState:action-failure actionUUID:0b5c71c0-005e-45e2-a396-8133e0c99ab0]
[38;5;10m• [0.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mExecute [0m[1mshould handle duplicate protocol converter name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:316[0m
 [INFO]	[actions/deploy-protocolconverter.go:126:126]	[Communicator]			Executing DeployProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting deployment of protocol converter: test-protocol-converter actionReplyState:action-confirmed actionUUID:fc964fdd-8428-401a-bd14-6c93b828d955]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Adding protocol converter to configuration... actionReplyState:action-executing actionUUID:fc964fdd-8428-401a-bd14-6c93b828d955]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to add protocol converter: another protocol converter with name "test-protocol-converter" already exists – choose a unique name actionReplyState:action-failure actionUUID:fc964fdd-8428-401a-bd14-6c93b828d955]
[38;5;10m• [0.102 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould parse valid location data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:91[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould handle missing location data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:112[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould return error for invalid location format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:125[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould return error for missing enterprise in location[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:137[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mValidate [0m[1mshould validate with valid location data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:153[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mValidate [0m[1mshould validate with nil location[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:166[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould handle nil location gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:177[0m
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould update location successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:208[0m
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould handle GetConfig failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:253[0m
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould handle WriteConfig failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:286[0m
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould parse valid edit dataflow component payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:123[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for missing UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:160[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for invalid UUID format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:188[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:205[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for missing meta type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:233[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for unsupported component type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:260[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould handle parse with inject data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:277[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mValidate [0m[1mshould pass validation after valid parse[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:319[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mValidate [0m[1mshould fail validation with invalid YAML in processor[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:358[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould edit dataflow component in configuration successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:400[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:5a7545cc-5567-4c4b-86e4-7a29ef2d5e23]
==================
WARNING: DATA RACE
Write at 0x00c000781080 by goroutine 734:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:403 +0x638
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:453 +0x8b4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c000781080 by goroutine 735:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.createDfcManagerSnapshot()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:417 +0xa8c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:119 +0x3b0
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:464 +0xf0

Goroutine 734 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 735 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:455 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x82c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:448 +0x81c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:5a7545cc-5567-4c4b-86e4-7a29ef2d5e23]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:5a7545cc-5567-4c4b-86e4-7a29ef2d5e23]
 [INFO]	[actions/stateMocker.go:265:265]	Detected changed dataflow component; old name: {oldName 15 0 test-component <nil>} {newName 15 0 test-component-updated <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 28 s] waiting for it to appear in the config actionReplyState:action-executing actionUUID:5a7545cc-5567-4c4b-86e4-7a29ef2d5e23]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 27 s]  actionReplyState:action-executing actionUUID:5a7545cc-5567-4c4b-86e4-7a29ef2d5e23]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 active <nil>}
[38;5;10m• [4.101 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould preserve processor order when using numeric keys[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:480[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:97277093-bcb2-4a45-9f0e-4931ffd7f9d1]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:97277093-bcb2-4a45-9f0e-4931ffd7f9d1]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:97277093-bcb2-4a45-9f0e-4931ffd7f9d1]
 [INFO]	[actions/stateMocker.go:265:265]	Detected changed dataflow component; old name: {oldName 15 0 test-component <nil>} {newName 15 0 test-component-updated <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 28 s] waiting for it to appear in the config actionReplyState:action-executing actionUUID:97277093-bcb2-4a45-9f0e-4931ffd7f9d1]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 27 s]  actionReplyState:action-executing actionUUID:97277093-bcb2-4a45-9f0e-4931ffd7f9d1]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 active <nil>}
[38;5;10m• [3.102 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould handle edit with inject data containing cache resources[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:569[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:26c51bcd-7ba2-4804-a48d-2d53311162e8]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:26c51bcd-7ba2-4804-a48d-2d53311162e8]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:26c51bcd-7ba2-4804-a48d-2d53311162e8]
 [INFO]	[actions/stateMocker.go:265:265]	Detected changed dataflow component; old name: {oldName 15 0 test-component <nil>} {newName 15 0 test-component-updated <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 28 s] waiting for it to appear in the config actionReplyState:action-executing actionUUID:26c51bcd-7ba2-4804-a48d-2d53311162e8]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:[left: 27 s]  actionReplyState:action-executing actionUUID:26c51bcd-7ba2-4804-a48d-2d53311162e8]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 active <nil>}
[38;5;10m• [3.102 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould successfully edit component state from active to stopped and back[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:641[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component): starting actionReplyState:action-confirmed actionUUID:7d889fab-67f4-4483-b213-bf2203685f0e]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component): updating configuration actionReplyState:action-executing actionUUID:7d889fab-67f4-4483-b213-bf2203685f0e]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:7d889fab-67f4-4483-b213-bf2203685f0e]
 [INFO]	[actions/stateMocker.go:297:297]	Detected changed dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 benthos_degraded <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 stopped <nil>}
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component): starting actionReplyState:action-confirmed actionUUID:7d889fab-67f4-4483-b213-bf2203685f0e]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component): updating configuration actionReplyState:action-executing actionUUID:7d889fab-67f4-4483-b213-bf2203685f0e]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:7d889fab-67f4-4483-b213-bf2203685f0e]
 [INFO]	[actions/stateMocker.go:297:297]	Detected changed dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 benthos_degraded <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [2.101 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould handle AtomicEditDataflowcomponent failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:786[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:3edd51a4-0235-418a-9ff1-6ae83c8161f2]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:3edd51a4-0235-418a-9ff1-6ae83c8161f2]
==================
WARNING: DATA RACE
Read at 0x00c0001475d8 by goroutine 843:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.5()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:831 +0xa80
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous write at 0x00c0001475d8 by goroutine 842:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.ConsumeOutboundMessages()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/action_helper.go:78 +0xf8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.1.gowrap1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:109 +0x44

Goroutine 843 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 842 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:109 +0xcf8
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): failed to edit dataflow component: mock edit dataflow component failure actionReplyState:action-failure actionUUID:3edd51a4-0235-418a-9ff1-6ae83c8161f2]
[38;5;10m• [0.006 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould handle failure when component not found[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:843[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:79535e91-e8a8-4065-b3b3-bb15aa47cc95]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:79535e91-e8a8-4065-b3b3-bb15aa47cc95]
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:edit(test-component-updated): failed to edit dataflow component: dataflow component with UUID not found actionReplyState:action-failure actionUUID:79535e91-e8a8-4065-b3b3-bb15aa47cc95]
[0mGetConfigFile [38;5;243mParse [0m[1mshould not have any payload to parse[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:89[0m
 [INFO]	[actions/get-config-file.go:65:65]	[Communicator]			Parsing GetConfigFile payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mValidate [0m[1mshould pass validation[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:97[0m
 [INFO]	[actions/get-config-file.go:73:73]	[Communicator]			Validating GetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould return the config file content[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:104[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould include the last modified time in the response[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:117[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould preserve YAML anchors in the config file[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:141[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould handle filesystem errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:213[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould respect context timeout[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:229[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [1.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mNewGetDataModelAction [0m[1mshould create a new action with correct parameters[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:90[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:97[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mParse [0mwith invalid payload [0m[1mshould return error for non-map payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:108[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mParse [0mwith invalid payload [0m[1mshould return error for empty payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:114[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mValidate [0mwith valid payload [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:134[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mValidate [0mwith missing name [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:147[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith existing data model [0m[1mshould retrieve data model successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:165[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith existing data model [0m[1mshould send appropriate action replies[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:204[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith non-existing data model [0m[1mshould return error for non-existing data model[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:223[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith config manager error [0m[1mshould return error when config manager fails[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:246[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith complex nested structure [0m[1mshould handle nested structures correctly[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:299[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mParse [0m[1mshould parse valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:94[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mParse [0m[1mshould handle invalid payload format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:103[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould pass validation with valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:112[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould pass validation with valid YAML containing anchors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:124[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould fail validation with empty content[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:158[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould fail validation with invalid YAML content[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:171[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould fail validation with empty lastModifiedTime[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:196[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould successfully update the config file[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:220[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould successfully update the config file with YAML anchors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:235[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould detect concurrent modification[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:287[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould retrieve a new last modified time[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:301[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mParse [0m[1mshould parse valid payload with UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:326[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mParse [0m[1mshould return an error for invalid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:336[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{}
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mValidate [0m[1mshould validate a valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:348[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mValidate [0m[1mshould return an error if the UUID is missing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:360[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mValidate [0m[1mshould return an error if the UUID is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:371[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{invalid-uuid}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mExecute [0m[1mshould return metrics for a valid DFC UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:386[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mExecute [0m[1mshould return an error when the DFC instance is not found[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:443[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{f1cc4e29-17e6-4fef-9db8-301575679b98}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mExecute [0m[1mshould handle the case when no dataflowcomponent manager exists[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:462[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mParse [0m[1mshould parse valid payload with UUID for DFC metrics[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:148[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mParse [0m[1mshould parse valid payload for Redpanda metrics[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:160[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould validate a valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:172[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould return an error if the metrics type is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:182[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is missing on DFC metrics type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:193[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:204[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould return metrics when metric type is [0m[1mdfc[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:246[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould return metrics when metric type is [0m[1mredpanda[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:247[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0m[1mshould handle metrics provider errors gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:249[0m
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould handle missing FSM instance gracefully: [0m[1mdfc[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:294[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould handle missing FSM instance gracefully: [0m[1mredpanda[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:295[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0m[1mshould return an error when a non-existent DFC UUID is provided[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:298[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m

[38;5;10m[1mRan 205 of 205 Specs in 20.948 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m205 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m0 Skipped[0m
--- FAIL: TestActions (20.95s)
    testing.go:1490: race detected during execution of test
FAIL

Ginkgo ran 64 suites in 34.561009459s

There were failures detected in the following suites:
  [38;5;9mactions [38;5;243m./pkg/communicator/actions[0m

Test Suite Failed
