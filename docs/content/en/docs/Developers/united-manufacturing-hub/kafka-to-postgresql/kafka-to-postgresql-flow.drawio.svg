<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1571px" height="2081px" viewBox="-0.5 -0.5 1571 2081" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-04-13T08:58:50.235Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/17.4.2 Chrome/100.0.4896.60 Electron/18.0.1 Safari/537.36&quot; etag=&quot;VXFN1IbajdDjvsJb7p8Y&quot; version=&quot;17.4.2&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;FaMlYfyvaadFKoxINBrL&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><path d="M 20 43 L 20 20 L 1550 20 L 1550 43" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 20 43 L 20 2060 L 1550 2060 L 1550 43" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 20 43 L 1550 43" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="784.5" y="36">Kafka-to-PostgreSQL</text></g><path d="M 160 140 L 160 173.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 178.88 L 156.5 171.88 L 160 173.63 L 163.5 171.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="100" y="100" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 120px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Read env variables for postgreSQL</div></div></div></foreignObject><text x="160" y="124" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Read env variables f...</text></switch></g><path d="M 160 220 L 160 253.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 258.88 L 156.5 251.88 L 160 253.63 L 163.5 251.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="100" y="180" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 200px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Setup postgreSQL</div></div></div></foreignObject><text x="160" y="204" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Setup postgreSQL</text></switch></g><path d="M 160 300 L 160 333.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 338.88 L 156.5 331.88 L 160 333.63 L 163.5 331.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="100" y="260" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 280px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Read env variables for Kafka</div></div></div></foreignObject><text x="160" y="284" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Read env variables f...</text></switch></g><path d="M 160 380 L 160 413.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 418.88 L 156.5 411.88 L 160 413.63 L 163.5 411.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="100" y="340" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 360px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Setup HI &amp; HT Kafka</div></div></div></foreignObject><text x="160" y="364" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Setup HI &amp; HT Kafka</text></switch></g><path d="M 160 460 L 160 480 L 380 480 L 380 493.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 498.88 L 376.5 491.88 L 380 493.63 L 383.5 491.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 460 L 160 480 L 980 480 L 980 493.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 980 498.88 L 976.5 491.88 L 980 493.63 L 983.5 491.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="100" y="420" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 440px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Initialize an cache, to reduce database lookups</div></div></div></foreignObject><text x="160" y="444" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Initialize an cache,...</text></switch></g><path d="M 380 1546 L 380 1580 L 160 1580 L 160 1653.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 1658.88 L 156.5 1651.88 L 160 1653.63 L 163.5 1651.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 100 523 L 100 500 L 660 500 L 660 523" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 100 523 L 100 1546 L 660 1546 L 660 523" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 100 523 L 660 523" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="379.5" y="516">High Integrity</text></g><path d="M 240 580 L 240 613.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 618.88 L 236.5 611.88 L 240 613.63 L 243.5 611.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="180" y="540" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 560px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Initialize channels</div></div></div></foreignObject><text x="240" y="564" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Initialize channels</text></switch></g><path d="M 240 660 L 240 773.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 778.88 L 236.5 771.88 L 240 773.63 L 243.5 771.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 300 640 L 340 640" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><rect x="180" y="620" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 640px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Start putback processor</div></div></div></foreignObject><text x="240" y="644" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Start putback proces...</text></switch></g><path d="M 340 575 L 550 575 L 580 605 L 580 705 L 340 705 L 340 575 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 550 575 L 550 605 L 580 605 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 550 575 L 550 605 L 580 605" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 640px; margin-left: 341px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">This processor consumes the HighIntegrityPutBackChannel, and puts any message inside, back into kafka.<br />This can for example happen, if the database is unreachable.</div></div></div></foreignObject><text x="460" y="644" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">This processor consumes the HighIntegrit...</text></switch></g><path d="M 240 820 L 240 973.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 978.88 L 236.5 971.88 L 240 973.63 L 243.5 971.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 300 800 L 320 800 L 320 817.53 L 340 817.53" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><rect x="180" y="780" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 800px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Start kafka queue processor</div></div></div></foreignObject><text x="240" y="804" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Start kafka queue pr...</text></switch></g><path d="M 340 735 L 550 735 L 580 765 L 580 900 L 340 900 L 340 735 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 550 735 L 550 765 L 580 765 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 550 735 L 550 765 L 580 765" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 818px; margin-left: 341px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">This processor subscribe to an kafka topic (by regex) and puts any message it gets into the HighIntegrityProcessorChannel.<br />It also makes sure, to not overwhelm the system, by checking if the PutBackChannel is filling up, and not reading any new messages, in this case.</div></div></div></foreignObject><text x="460" y="821" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">This processor subscribe to an kafka top...</text></switch></g><path d="M 240 1020 L 240 1133.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 1138.88 L 236.5 1131.88 L 240 1133.63 L 243.5 1131.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 300 1000 L 340 1000" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><rect x="180" y="980" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1000px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Start Commit Processor</div></div></div></foreignObject><text x="240" y="1004" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Start Commit Process...</text></switch></g><path d="M 340 935 L 550 935 L 580 965 L 580 1065 L 340 1065 L 340 935 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 550 935 L 550 965 L 580 965 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 550 935 L 550 965 L 580 965" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1000px; margin-left: 341px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">This processor consumes the HighIntegrityCommitChannel and stores any message found into the local commit store.<br />These messages will later be auto commited</div></div></div></foreignObject><text x="460" y="1004" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">This processor consumes the HighIntegrit...</text></switch></g><path d="M 240 1180 L 240 1333.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 1338.88 L 236.5 1331.88 L 240 1333.63 L 243.5 1331.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 300 1160 L 320 1160 L 320 1197 L 340 1197" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><rect x="180" y="1140" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1160px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Start HI Queue Processor</div></div></div></foreignObject><text x="240" y="1164" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Start HI Queue Proce...</text></switch></g><path d="M 340 1094 L 550 1094 L 580 1124 L 580 1300 L 340 1300 L 340 1094 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 550 1094 L 550 1124 L 580 1124 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 550 1094 L 550 1124 L 580 1124" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1197px; margin-left: 341px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">This processor consumes the HighIntegrityProcessorChannel and tries to parse the message, before using the topic specific sub-processor.<br />If the sub-processor returns an error it will either put the message into the PutBackChannel or discard it (only if the message is malformed, by putting it into the CommitChannel)<br />If there is no error it will store the message into the CommitChannel.</div></div></div></foreignObject><text x="460" y="1201" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">This processor consumes the HighIntegrit...</text></switch></g><path d="M 300 1360 L 320 1360 L 320 1400 L 340 1400" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><rect x="180" y="1340" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1360px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Start Event Handler</div></div></div></foreignObject><text x="240" y="1364" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Start Event Handler</text></switch></g><path d="M 340 1330 L 550 1330 L 580 1360 L 580 1470 L 340 1470 L 340 1330 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 550 1330 L 550 1360 L 580 1360 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 550 1330 L 550 1360 L 580 1360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1400px; margin-left: 341px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">The PutBack processor's kafka producer produces events for every message produced.<br />This processor checks if the event was not a succuess, in which case it enqueues it back on the PutBackQueue</div></div></div></foreignObject><text x="460" y="1404" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">The PutBack processor's kafka producer p...</text></switch></g><path d="M 300 295 L 390 295 L 420 325 L 420 425 L 300 425 L 300 295 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 295 L 390 325 L 420 325 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 390 295 L 390 325 L 420 325" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 360px; margin-left: 301px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">This creates a new consumer, producer and admin client, but does not subscribe to any Topic</div></div></div></foreignObject><text x="360" y="364" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">This creates a new c...</text></switch></g><path d="M 300 360 L 220 360" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 980 1546 L 980 1580 L 160 1580 L 160 1653.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 1658.88 L 156.5 1651.88 L 160 1653.63 L 163.5 1651.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 700 523 L 700 500 L 1260 500 L 1260 523" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 700 523 L 700 1546 L 1260 1546 L 1260 523" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 700 523 L 1260 523" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="979.5" y="516">High Troughput</text></g><path d="M 840 580 L 840 613.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 618.88 L 836.5 611.88 L 840 613.63 L 843.5 611.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="780" y="540" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 560px; margin-left: 781px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Initialize channels</div></div></div></foreignObject><text x="840" y="564" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Initialize channels</text></switch></g><path d="M 840 660 L 840 773.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 778.88 L 836.5 771.88 L 840 773.63 L 843.5 771.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 900 640 L 940 640" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><rect x="780" y="620" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 640px; margin-left: 781px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Start putback processor</div></div></div></foreignObject><text x="840" y="644" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Start putback proces...</text></switch></g><path d="M 940 575 L 1150 575 L 1180 605 L 1180 705 L 940 705 L 940 575 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1150 575 L 1150 605 L 1180 605 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 1150 575 L 1150 605 L 1180 605" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 640px; margin-left: 941px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">This processor consumes the HighIntegrityPutBackChannel, and puts any message inside, back into kafka.<br />This can for example happen, if the database is unreachable.</div></div></div></foreignObject><text x="1060" y="644" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">This processor consumes the HighIntegrit...</text></switch></g><path d="M 900 800 L 920 800 L 920 817.53 L 940 817.53" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 820 L 840 943.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 948.88 L 836.5 941.88 L 840 943.63 L 843.5 941.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="780" y="780" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 800px; margin-left: 781px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Start kafka queue processor</div></div></div></foreignObject><text x="840" y="804" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Start kafka queue pr...</text></switch></g><path d="M 940 735 L 1150 735 L 1180 765 L 1180 900 L 940 900 L 940 735 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1150 735 L 1150 765 L 1180 765 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 1150 735 L 1150 765 L 1180 765" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 818px; margin-left: 941px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">This processor subscribe to an kafka topic (by regex) and puts any message it gets into the HighIntegrityProcessorChannel.<br />It also makes sure, to not overwhelm the system, by checking if the PutBackChannel is filling up, and not reading any new messages, in this case.</div></div></div></foreignObject><text x="1060" y="821" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">This processor subscribe to an kafka top...</text></switch></g><path d="M 900 1200 L 940 1200" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 1220 L 840 1333.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 1338.88 L 836.5 1331.88 L 840 1333.63 L 843.5 1331.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="780" y="1180" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1200px; margin-left: 781px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">StartProcessValue queue aggregator</div></div></div></foreignObject><text x="840" y="1204" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">StartProcessValue qu...</text></switch></g><path d="M 940 1097 L 1150 1097 L 1180 1127 L 1180 1303 L 940 1303 L 940 1097 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1150 1097 L 1150 1127 L 1180 1127 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 1150 1097 L 1150 1127 L 1180 1127" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1200px; margin-left: 941px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">This Aggregator stores incoming messages, into an array.<br />Once every 5 Seconds or if the queue size is greater or equal 5k messages, it will start a transaction to copy all messages into the database.<br />If a message fails to be parsed it will be returned to be put back into the PutBackChannel.<br />If the transaction fails, all messages will be put back.</div></div></div></foreignObject><text x="1060" y="1204" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">This Aggregator stores incoming messages...</text></switch></g><path d="M 900 970 L 920 970 L 920 1010 L 940 1010" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 990 L 840 1173.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 1178.88 L 836.5 1171.88 L 840 1173.63 L 843.5 1171.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="780" y="950" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 970px; margin-left: 781px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Start Event Handler</div></div></div></foreignObject><text x="840" y="974" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Start Event Handler</text></switch></g><path d="M 940 940 L 1150 940 L 1180 970 L 1180 1080 L 940 1080 L 940 940 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1150 940 L 1150 970 L 1180 970 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 1150 940 L 1150 970 L 1180 970" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1010px; margin-left: 941px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">The PutBack processor's kafka producer produces events for every message produced.<br />This processor checks if the event was not a succuess, in which case it enqueues it back on the PutBackQueue</div></div></div></foreignObject><text x="1060" y="1014" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">The PutBack processor's kafka producer p...</text></switch></g><path d="M 900 1360 L 920 1360 L 920 1200 L 940 1200" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><rect x="780" y="1340" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1360px; margin-left: 781px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">StartProcessValue String queue aggregator</div></div></div></foreignObject><text x="840" y="1364" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">StartProcessValue St...</text></switch></g><path d="M 160 1700 L 160 1853.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 1858.88 L 156.5 1851.88 L 160 1853.63 L 163.5 1851.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 1680 L 260 1680" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><rect x="100" y="1660" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1680px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Start performance reporter</div></div></div></foreignObject><text x="160" y="1684" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Start performance re...</text></switch></g><path d="M 220 1880 L 260 1880" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><rect x="100" y="1860" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1880px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Listen for shutdown signals</div></div></div></foreignObject><text x="160" y="1884" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Listen for shutdown...</text></switch></g><path d="M 260 1620 L 390 1620 L 420 1650 L 420 1740 L 260 1740 L 260 1620 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 1620 L 390 1650 L 420 1650 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 390 1620 L 390 1650 L 420 1650" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1680px; margin-left: 261px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Once every 10 seconds, it will report some stats, like commits, messages, putbacks, ...</div></div></div></foreignObject><text x="340" y="1684" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Once every 10 seconds, it...</text></switch></g><path d="M 260 1790 L 430 1790 L 460 1820 L 460 1970 L 260 1970 L 260 1790 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 1790 L 430 1820 L 460 1820 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="none"/><path d="M 430 1790 L 430 1820 L 460 1820" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1880px; margin-left: 261px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">On shutdown it will stop the kafka queue consumers and then drain every channel into the PutBackChannels.<br />Once the PutBackChannel is empty, it will close all Kafka consumers, producers, admin clients and the database connection.</div></div></div></foreignObject><text x="360" y="1884" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">On shutdown it will stop the kafk...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>