go vet -tags=test ./...
# See lefthook.yaml for more details
nilaway -exclude-pkgs="github.com/prometheus/prometheus/util/textparse,github.com/onsi/ginkgo/v2" -exclude-errors-in-files="integration/" ./...
golangci-lint run ./...
0 issues.
ginkgo -r -v --race --tags=test --label-filter='!integration && !redpanda-extended && !tls' --fail-fast ./...
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/integration.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1995187531/000019.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/internal/fsm.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3590509434/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/pkg/generator.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2063361928/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/graphql.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3897550885/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1629372845/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3979156967/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/pkg/subscriber.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1882072388/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/topicbrowser.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-308507897/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/datamodel.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2192903194/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/agent_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1146228823/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/benthos.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3606725184/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/container.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3259746389/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/benthos_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3740031138/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/agent_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1306608732/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/control.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-890103564/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/s6.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3619620891/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/redpanda_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-695709756/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/benthos.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2405074937/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/container_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2580577585/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/filesystem.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3128066254/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/dataflowcomponent.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-688443486/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/connection.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1477069196/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: UMH Integration Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/integration
=======================================================================================================
Random Seed: [1m1752174439[0m

Will run [1m0[0m of [1m20[0m specs
[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m

[38;5;10m[1mRan 0 of 20 Specs in 0.002 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m0 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m20 Skipped[0m
PASS
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/nmap.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2493656537/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/benthos_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3101928422/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/protocolconverter/runtime_config.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2427972800/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/redpanda_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-696235699/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: BaseFSM Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm
================================================================================================
Random Seed: [1m1752174439[0m

Will run [1m8[0m of [1m8[0m specs
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould track errors and reset correctly[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:67[0m
  2025-07-10T21:07:32.306+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:32.307+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould detect permanent failure after max retries[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:87[0m
  2025-07-10T21:07:32.308+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:32.308+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:32.308+0200	ERROR	Backoff manager has exceeded maximum retries, marking as permanently failed: test error
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould generate appropriate backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:129[0m
  2025-07-10T21:07:32.311+0200	DEBUG	Suspending operations for 1 ticks because of error: reconcile failed
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould clear errors with ResetState[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:142[0m
  2025-07-10T21:07:32.312+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:32.312+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen working with the FSM [0m[1mshould maintain desired and current states[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:160[0m
  2025-07-10T21:07:32.312+0200	INFO	Setting desired state of FSM test-fsm to stopped
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using SendEvent with different context states [0m[1mshould reject events when context is already cancelled[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:172[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using SendEvent with different context states [0m[1mshould reject events when deadline is too close[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:184[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using SendEvent with different context states [0m[1mshould accept events with sufficient deadline time remaining[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:200[0m
  2025-07-10T21:07:32.314+0200	DEBUG	FSM test-fsm attempting transition: current_state='stopped' -> event='start' (desired_state='running')
  2025-07-10T21:07:32.314+0200	DEBUG	FSM test-fsm successful transition: 'stopped' -> 'running' via event='start' (desired_state='running')
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m

[38;5;10m[1mRan 8 of 8 Specs in 0.010 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m8 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m0 Skipped[0m
PASS
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/protocolconverter.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1210035540/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/redpanda.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3831613967/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/starvationchecker.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2118703331/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/benthos_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1830281926/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/s6.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2110575269/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: Backoff Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff
===============================================================================================
Random Seed: [1m1752174439[0m

Will run [1m25[0m of [1m25[0m specs
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen initializing [0m[1mshould create a manager with default config[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:55[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen initializing [0m[1mshould create a manager with custom config[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:61[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen handling errors [0m[1mshould track errors and reset correctly[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:67[0m
  2025-07-10T21:07:33.689+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen handling errors [0m[1mshould detect permanent failure after max retries[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:86[0m
  2025-07-10T21:07:33.691+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:33.691+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:33.691+0200	ERROR	Backoff manager has exceeded maximum retries, marking as permanently failed: test error
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen checking operation skip [0m[1mshould not skip operations initially[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:121[0m
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen checking operation skip [0m[1mshould skip operations in backoff state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:125[0m
  2025-07-10T21:07:33.701+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:33.701+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen checking operation skip [0m[1mshould not skip operations after reset[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:135[0m
  2025-07-10T21:07:33.702+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:33.702+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen working with backoff errors [0m[1mshould generate appropriate temporary backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:149[0m
  2025-07-10T21:07:33.703+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen working with backoff errors [0m[1mshould generate appropriate permanent backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:160[0m
  2025-07-10T21:07:33.704+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:33.704+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen working with backoff errors [0m[1mshould preserve original error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:189[0m
  2025-07-10T21:07:33.706+0200	DEBUG	Suspending operations for 1 ticks because of error: original test error
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using error helpers [0m[1mshould correctly identify temporary backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:199[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using error helpers [0m[1mshould correctly identify permanent failure errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:206[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using error helpers [0m[1mshould not identify regular errors as backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:213[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mintegration with time-based backoff [0m[1mshould respect backoff delay[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:222[0m
  2025-07-10T21:07:33.710+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:07:33.710+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using backoff manager in FSM [0m[1mshould calculate reasonable backoff intervals[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:243[0m
  2025-07-10T21:07:33.711+0200	DEBUG	Suspending operations for 1 ticks because of error: error1
  2025-07-10T21:07:33.711+0200	DEBUG	Suspending operations for 1 ticks because of error: error2
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen checking error types [0m[1mshould correctly identify temporary backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:29[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen checking error types [0m[1mshould correctly identify permanent failure errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:50[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen checking error types [0m[1mshould handle mixed and special cases[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:71[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould extract the original error from wrapped errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:92[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould handle unwrapped errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:104[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould handle nil errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:111[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould handle deeply nested errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:116[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mIntegration Tests [38;5;243mwhen using BackoffManager in components [0m[1mshould handle temporary failures with retries[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/integration_test.go:129[0m
  2025-07-10T21:07:33.719+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
  2025-07-10T21:07:33.720+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mIntegration Tests [38;5;243mwhen using BackoffManager in components [0m[1mshould handle permanent failures[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/integration_test.go:155[0m
  2025-07-10T21:07:33.721+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mIntegration Tests [38;5;243mwhen using BackoffManager in components [0m[1mshould succeed after failures and reset error state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/integration_test.go:181[0m
  2025-07-10T21:07:33.722+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m

[38;5;10m[1mRan 25 of 25 Specs in 0.038 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m25 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m0 Skipped[0m
PASS
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/topicbrowser.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1897303839/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/connection.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2342253636/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/benthos.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2071966662/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/nmap.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2626688716/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/dataflowcomponent.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2039175810/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/communicator.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2865750351/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/redpanda.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1182239008/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/protocolconverter.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-204020264/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/redpanda_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1426562617/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/s6.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-4080296400/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/topicbrowser.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2843152793/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: Actions Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions
============================================================================================================
Random Seed: [1m1752174439[0m

Will run [1m205[0m of [1m205[0m specs
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mNewDeleteDataModelAction [0m[1mshould create a new action with correct fields[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:103[0m
 [INFO]	[logger/logger.go:178:178]	Logger initialized - level=PRODUCTION, format=PRETTY
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:110[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mParse [0mwith invalid payload type [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:124[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mParse [0mwith nil payload [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:135[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mValidate [0mwith valid payload [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:154[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mValidate [0mwith missing name [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:169[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould execute successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:187[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould send correct action replies to outbound channel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:203[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.012 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwhen data model does not exist [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:235[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwhen config manager fails [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:256[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return empty payload before parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:267[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return parsed payload after parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:272[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mParse [0m[1mshould parse valid request payload with UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:80[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 29e54343-a9dd-473d-8a40-6fe1a6909f12
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mParse [0m[1mshould handle invalid payload format gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:95[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 00000000-0000-0000-0000-000000000000
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mParse [0m[1mshould handle malformed UUID gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:111[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 00000000-0000-0000-0000-000000000000
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mValidate [0m[1mshould validate with any parsed payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:124[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 447d29a6-33aa-48dc-bf2a-a88858cb631c
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter exists and is initialized [0m[1mshould return protocol converter with read and write DFC[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:141[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 3ff48d04-7844-5b3a-8e3b-4bc36fdf86ce
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [INFO]	[actions/get-protocolconverter.go:352:352]	[Communicator]			Protocol converter found and built, returning response
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter exists but is not initialized [0m[1mshould return protocol converter without DFC configs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:292[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: af0addc7-1ff5-51af-ae6d-0142bcef929d
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [INFO]	[actions/get-protocolconverter.go:352:352]	[Communicator]			Protocol converter found and built, returning response
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter does not exist [0m[1mshould return error for non-existent protocol converter[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:385[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 6d650ae9-47b7-47b8-8e0f-03c45731719d
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter manager does not exist [0m[1mshould return error when no protocol converter manager exists[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:416[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: b4212510-8145-41c7-baa1-c1805840c334
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter has invalid observed state [0m[1mshould return error for invalid observed state type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:442[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: c787986c-53f0-5014-b5d9-a23c27039107
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [ERROR]	[actions/get-protocolconverter.go:222:222]	[Communicator]			Observed state is of unexpected type - instanceID=test-protocol-converter-invalid-state
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter has invalid observed state [0m[1mshould return error for nil observed state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:485[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 940cf3ed-783c-557e-91a1-50ba2093d36d
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [ERROR]	[actions/get-protocolconverter.go:222:222]	[Communicator]			Observed state is of unexpected type - instanceID=test-protocol-converter-nil-state
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mNewEditDataModelAction [0m[1mshould create a new action with correct fields[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:80[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:89[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mParse [0mwith invalid payload type [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:114[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mParse [0mwith nil payload [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:125[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith valid payload [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:149[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith missing name [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:168[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith empty structure [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:185[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith nil structure [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:202[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith valid data model structure [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:236[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid _refModel format [0m[1mshould fail with no version[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:243[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid _refModel format [0m[1mshould fail with no version in complex name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:262[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid _refModel format [0m[1mshould fail with empty version[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:281[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid version format [0m[1mshould fail with version not matching v\d+[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:302[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid field combinations [0m[1mshould fail when field has both _type and _refModel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:324[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid field combinations [0m[1mshould fail when field has both subfields and _refModel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:345[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid leaf nodes [0m[1mshould fail when leaf node has no _type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:372[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid submodel nodes [0m[1mshould fail when submodel node has additional fields besides _refModel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:389[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith multiple validation errors [0m[1mshould return all validation errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:412[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould execute successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:498[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
 [INFO]	[actions/edit-datamodel.go:228:228]	[Communicator]			Successfully created data contract _existing-model_v2 for data model existing-model version v2
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould send correct action replies to outbound channel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:516[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
 [INFO]	[actions/edit-datamodel.go:228:228]	[Communicator]			Successfully created data contract _existing-model_v2 for data model existing-model version v2
[38;5;10m• [0.013 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mExecute [0mwith configuration manager error [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:556[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return empty payload before parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:571[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return parsed payload after parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:578[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mIntegration with different field types [0m[1mshould handle editing model with complex nested structures[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:600[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
 [INFO]	[actions/edit-datamodel.go:228:228]	[Communicator]			Successfully created data contract _complex-model_v2 for data model complex-model version v2
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould parse valid edit dataflow component payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:123[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for missing UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:160[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for invalid UUID format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:188[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:205[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for missing meta type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:233[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for unsupported component type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:260[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould handle parse with inject data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:277[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mValidate [0m[1mshould pass validation after valid parse[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:319[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mValidate [0m[1mshould fail validation with invalid YAML in processor[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:358[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould edit dataflow component in configuration successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:400[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:58d81212-8bb0-47fe-8ab3-eb76f7350e64]
==================
WARNING: DATA RACE
Write at 0x00c000130b80 by goroutine 224:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:401 +0x638
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:453 +0x8b4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c000130b80 by goroutine 225:
  runtime.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:152 +0x7c
  reflect.Value.Set()
      /usr/local/go/src/reflect/value.go:2062 +0x144
  github.com/tiendc/go-deepcopy.(*structField2FieldCopier).Copy()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/tiendc/go-deepcopy/struct_copier.go:236 +0x478
  github.com/tiendc/go-deepcopy.(*structCopier).Copy()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/tiendc/go-deepcopy/struct_copier.go:20 +0xe0
  github.com/tiendc/go-deepcopy.(*structField2FieldCopier).Copy()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/tiendc/go-deepcopy/struct_copier.go:228 +0x408
  github.com/tiendc/go-deepcopy.(*structCopier).Copy()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/tiendc/go-deepcopy/struct_copier.go:20 +0xe0
  github.com/tiendc/go-deepcopy.(*sliceCopier).Copy()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/tiendc/go-deepcopy/slice_copier.go:24 +0x2a4
  github.com/tiendc/go-deepcopy.(*ptr2ValueCopier).Copy()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/tiendc/go-deepcopy/base_copier.go:57 +0x12c
  github.com/tiendc/go-deepcopy.Copy()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/tiendc/go-deepcopy/deepcopy.go:107 +0x688
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.copyDfcSlice()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:579 +0xf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:114 +0x298
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Goroutine 224 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 225 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x82c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:448 +0x81c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:58d81212-8bb0-47fe-8ab3-eb76f7350e64]
==================
WARNING: DATA RACE
Write at 0x00c00082cce0 by goroutine 224:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).writeConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:146 +0x378
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:412 +0x6c8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:453 +0x8b4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00082cce0 by goroutine 225:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).GetDataFlowConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:87 +0x30
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.createDfcManagerSnapshot()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:355 +0x50
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:118 +0x3b0
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Goroutine 224 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 225 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x82c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:448 +0x81c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:58d81212-8bb0-47fe-8ab3-eb76f7350e64]
 [INFO]	[actions/stateMocker.go:264:264]	Detected changed dataflow component; old name: {oldName 15 0 test-component <nil>} {newName 15 0 test-component-updated <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 28 s] waiting for it to appear in the config actionReplyState:action-executing actionUUID:58d81212-8bb0-47fe-8ab3-eb76f7350e64]
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 27 s]  actionReplyState:action-executing actionUUID:58d81212-8bb0-47fe-8ab3-eb76f7350e64]
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 active <nil>}
==================
WARNING: DATA RACE
Write at 0x00c000854330 by goroutine 224:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0xa78
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:459 +0xa20
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c000854330 by goroutine 225:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 224 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 225 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x82c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:448 +0x81c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [4.053 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould preserve processor order when using numeric keys[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:480[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:35cd2d05-3c59-42a3-987c-9a414b2df3f2]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:35cd2d05-3c59-42a3-987c-9a414b2df3f2]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:35cd2d05-3c59-42a3-987c-9a414b2df3f2]
==================
WARNING: DATA RACE
Read at 0x00c00082c0e0 by goroutine 248:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).GetDataFlowConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:87 +0x30
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:98 +0xf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c00082c0e0 by goroutine 247:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).writeConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:146 +0x378
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:412 +0x6c8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:530 +0xaf0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 248 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xa74
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:526 +0xa64
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 247 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
==================
WARNING: DATA RACE
Read at 0x00c000131700 by goroutine 248:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectEditedComponents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:238 +0xdf8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectConfigEvents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:165 +0xc0
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:103 +0x208
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c000131700 by goroutine 247:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:401 +0x638
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:530 +0xaf0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 248 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xa74
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:526 +0xa64
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 247 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
 [INFO]	[actions/stateMocker.go:264:264]	Detected changed dataflow component; old name: {oldName 15 0 test-component <nil>} {newName 15 0 test-component-updated <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 28 s] waiting for it to appear in the config actionReplyState:action-executing actionUUID:35cd2d05-3c59-42a3-987c-9a414b2df3f2]
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 27 s]  actionReplyState:action-executing actionUUID:35cd2d05-3c59-42a3-987c-9a414b2df3f2]
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 active <nil>}
==================
WARNING: DATA RACE
Write at 0x00c0000c5830 by goroutine 247:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0xcb4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:536 +0xc5c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c0000c5830 by goroutine 248:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 247 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 248 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xa74
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:526 +0xa64
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [3.007 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould handle edit with inject data containing cache resources[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:569[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:1ee1f1cd-65a2-47fb-9ee6-7b293cf91acb]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:1ee1f1cd-65a2-47fb-9ee6-7b293cf91acb]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:1ee1f1cd-65a2-47fb-9ee6-7b293cf91acb]
==================
WARNING: DATA RACE
Read at 0x00c00082c4e0 by goroutine 288:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).GetDataFlowConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:87 +0x30
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:98 +0xf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c00082c4e0 by goroutine 287:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).writeConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:146 +0x378
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:412 +0x6c8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:621 +0x970
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 288 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x8f4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:617 +0x8e4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 287 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
==================
WARNING: DATA RACE
Read at 0x00c000131e80 by goroutine 288:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectEditedComponents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:238 +0xdf8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectConfigEvents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:165 +0xc0
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:103 +0x208
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c000131e80 by goroutine 287:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:401 +0x638
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:621 +0x970
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 288 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x8f4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:617 +0x8e4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 287 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
 [INFO]	[actions/stateMocker.go:264:264]	Detected changed dataflow component; old name: {oldName 15 0 test-component <nil>} {newName 15 0 test-component-updated <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 28 s] waiting for it to appear in the config actionReplyState:action-executing actionUUID:1ee1f1cd-65a2-47fb-9ee6-7b293cf91acb]
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 27 s]  actionReplyState:action-executing actionUUID:1ee1f1cd-65a2-47fb-9ee6-7b293cf91acb]
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 active <nil>}
==================
WARNING: DATA RACE
Write at 0x00c0004baf30 by goroutine 287:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0xb34
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:627 +0xadc
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c0004baf30 by goroutine 288:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 287 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 288 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x8f4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:617 +0x8e4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [3.008 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould successfully edit component state from active to stopped and back[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:641[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component): starting actionReplyState:action-confirmed actionUUID:1591740e-80f7-469f-8b88-de3f0109e0f1]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component): updating configuration actionReplyState:action-executing actionUUID:1591740e-80f7-469f-8b88-de3f0109e0f1]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:1591740e-80f7-469f-8b88-de3f0109e0f1]
==================
WARNING: DATA RACE
Read at 0x00c00082c0e0 by goroutine 309:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).GetDataFlowConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:87 +0x30
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:98 +0xf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c00082c0e0 by goroutine 308:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).writeConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:146 +0x378
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:412 +0x6c8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:725 +0xfe0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 309 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xf64
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:721 +0xf54
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 308 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
==================
WARNING: DATA RACE
Read at 0x00c000230080 by goroutine 309:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectEditedComponents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:238 +0xdf8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectConfigEvents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:165 +0xc0
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:103 +0x208
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c000230080 by goroutine 308:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:401 +0x638
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:725 +0xfe0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 309 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xf64
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:721 +0xf54
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 308 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
 [INFO]	[actions/stateMocker.go:296:296]	Detected changed dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 benthos_degraded <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 stopped <nil>}
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component): starting actionReplyState:action-confirmed actionUUID:1591740e-80f7-469f-8b88-de3f0109e0f1]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component): updating configuration actionReplyState:action-executing actionUUID:1591740e-80f7-469f-8b88-de3f0109e0f1]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:1591740e-80f7-469f-8b88-de3f0109e0f1]
==================
WARNING: DATA RACE
Read at 0x00c00082c0e0 by goroutine 309:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).GetDataFlowConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:87 +0x30
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:98 +0xf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c00082c0e0 by goroutine 308:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).writeConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:146 +0x378
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:412 +0x6c8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:774 +0x1c98
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 309 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xf64
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:721 +0xf54
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 308 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
 [INFO]	[actions/stateMocker.go:296:296]	Detected changed dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 benthos_degraded <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 active <nil>}
==================
WARNING: DATA RACE
Write at 0x00c000310330 by goroutine 308:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0x1e5c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:780 +0x1e04
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c000310330 by goroutine 309:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 308 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 309 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xf64
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:721 +0xf54
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [2.011 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould handle AtomicEditDataflowcomponent failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:786[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:1b5c11e3-88c9-488c-8515-cbefaaff80c2]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:1b5c11e3-88c9-488c-8515-cbefaaff80c2]
==================
WARNING: DATA RACE
Read at 0x00c000122fc0 by goroutine 331:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.5()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:831 +0xa80
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous write at 0x00c000122fc0 by goroutine 330:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.ConsumeOutboundMessages()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/action_helper.go:31 +0xf8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.1.gowrap1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:109 +0x44

Goroutine 331 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 330 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:109 +0xcf8
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): failed to edit dataflow component: mock edit dataflow component failure actionReplyState:action-failure actionUUID:1b5c11e3-88c9-488c-8515-cbefaaff80c2]
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould handle failure when component not found[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:843[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:b82f92b2-bf61-443d-9ae8-1dfedbc3ee36]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:b82f92b2-bf61-443d-9ae8-1dfedbc3ee36]
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:edit(test-component-updated): failed to edit dataflow component: dataflow component with UUID not found actionReplyState:action-failure actionUUID:b82f92b2-bf61-443d-9ae8-1dfedbc3ee36]
[0mSetConfigFile [38;5;243mParse [0m[1mshould parse valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:94[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mParse [0m[1mshould handle invalid payload format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:103[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould pass validation with valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:112[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould pass validation with valid YAML containing anchors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:124[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould fail validation with empty content[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:158[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould fail validation with invalid YAML content[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:171[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould fail validation with empty lastModifiedTime[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:196[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould successfully update the config file[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:220[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould successfully update the config file with YAML anchors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:235[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould detect concurrent modification[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:287[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould retrieve a new last modified time[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:301[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mParse [0m[1mshould parse valid payload with UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:326[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mParse [0m[1mshould return an error for invalid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:336[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{}
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mValidate [0m[1mshould validate a valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:348[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mValidate [0m[1mshould return an error if the UUID is missing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:360[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mValidate [0m[1mshould return an error if the UUID is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:371[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{invalid-uuid}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mExecute [0m[1mshould return metrics for a valid DFC UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:386[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mExecute [0m[1mshould return an error when the DFC instance is not found[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:443[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{f7390da6-e4c1-4228-8d4e-a5b269b5e44b}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mExecute [0m[1mshould handle the case when no dataflowcomponent manager exists[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:462[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mParse [0m[1mshould not have any payload to parse[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:89[0m
 [INFO]	[actions/get-config-file.go:65:65]	[Communicator]			Parsing GetConfigFile payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mValidate [0m[1mshould pass validation[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:97[0m
 [INFO]	[actions/get-config-file.go:73:73]	[Communicator]			Validating GetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould return the config file content[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:104[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould include the last modified time in the response[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:117[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould preserve YAML anchors in the config file[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:141[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould handle filesystem errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:213[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould respect context timeout[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:229[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [1.002 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mParse [0m[1mshould parse valid UUID payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:100[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mParse [0m[1mshould return error for missing UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:112[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mParse [0m[1mshould return error for invalid UUID format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:122[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mValidate [0m[1mshould pass validation with valid UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:136[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mExecute [0m[1mshould delete existing dataflow component from configuration successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:152[0m
 [INFO]	[actions/delete-dataflowcomponent.go:141:141]	[Communicator]			Executing DeleteDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting deletion of dataflow component with UUID: 957e97dc-fbe9-5c5c-be05-3484460901a9 actionReplyState:action-confirmed actionUUID:bc6f25f4-763c-4e98-93f3-4aa1fc8caf4a]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Removing dataflow component from configuration... actionReplyState:action-executing actionUUID:bc6f25f4-763c-4e98-93f3-4aa1fc8caf4a]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Configuration updated. Waiting for dataflow component to be fully removed from the system... actionReplyState:action-executing actionUUID:bc6f25f4-763c-4e98-93f3-4aa1fc8caf4a]
==================
WARNING: DATA RACE
Read at 0x00c0003eb8e0 by goroutine 460:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).GetDataFlowConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:87 +0x30
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:98 +0xf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c0003eb8e0 by goroutine 459:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).writeConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:146 +0x378
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicDeleteDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:369 +0x478
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*DeleteDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent.go:151 +0x354
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:169 +0x22c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 460 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x1b0
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:165 +0x1a0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 459 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
 [INFO]	[actions/stateMocker.go:217:217]	Detected removed dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Verifying removal of dataflow component 'test-component' (28s remaining)... actionReplyState:action-executing actionUUID:bc6f25f4-763c-4e98-93f3-4aa1fc8caf4a]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Component 'test-component' still exists in state 'removed'. Waiting for removal (28s remaining)... actionReplyState:action-executing actionUUID:bc6f25f4-763c-4e98-93f3-4aa1fc8caf4a]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Verifying removal of dataflow component 'test-component' (27s remaining)... actionReplyState:action-executing actionUUID:bc6f25f4-763c-4e98-93f3-4aa1fc8caf4a]
==================
WARNING: DATA RACE
Write at 0x00c00007db30 by goroutine 459:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0x468
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:175 +0x410
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00007db30 by goroutine 460:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 459 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 460 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x1b0
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:165 +0x1a0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [2.007 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Dataflow component 'test-component' has been successfully removed from the system. actionReplyState:action-executing actionUUID:bc6f25f4-763c-4e98-93f3-4aa1fc8caf4a]
[0mDeleteDataflowComponent [38;5;243mExecute [0m[1mshould handle AtomicDeleteDataflowcomponent failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:184[0m
 [INFO]	[actions/delete-dataflowcomponent.go:141:141]	[Communicator]			Executing DeleteDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting deletion of dataflow component with UUID: 957e97dc-fbe9-5c5c-be05-3484460901a9 actionReplyState:action-confirmed actionUUID:832f3cef-112e-4fe1-b502-f393718e52f5]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Removing dataflow component from configuration... actionReplyState:action-executing actionUUID:832f3cef-112e-4fe1-b502-f393718e52f5]
==================
WARNING: DATA RACE
Write at 0x00c00007c930 by goroutine 485:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0x4e4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:208 +0x48c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00007c930 by goroutine 486:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 485 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 486 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x24c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:197 +0x23c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
==================
WARNING: DATA RACE
Read at 0x00c000122708 by goroutine 485:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:211 +0x520
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous write at 0x00c000122708 by goroutine 484:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.ConsumeOutboundMessages()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/action_helper.go:31 +0xf8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.1.gowrap1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:86 +0x44

Goroutine 485 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 484 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:86 +0x92c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Failed to delete dataflow component: mock delete dataflow component failure actionReplyState:action-failure actionUUID:832f3cef-112e-4fe1-b502-f393718e52f5]
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mExecute [0m[1mshould return error when component not found[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:223[0m
 [INFO]	[actions/delete-dataflowcomponent.go:141:141]	[Communicator]			Executing DeleteDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting deletion of dataflow component with UUID: 6688150c-5905-4707-b752-1e850b6f35dc actionReplyState:action-confirmed actionUUID:f838c1bd-efcf-41a6-bde3-cf42c9cb7743]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Removing dataflow component from configuration... actionReplyState:action-executing actionUUID:f838c1bd-efcf-41a6-bde3-cf42c9cb7743]
==================
WARNING: DATA RACE
Write at 0x00c00007c630 by goroutine 502:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0x4e4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:258 +0x48c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00007c630 by goroutine 503:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 502 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 503 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x24c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func2.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:247 +0x23c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Failed to delete dataflow component: dataflow component with UUID not found actionReplyState:action-failure actionUUID:f838c1bd-efcf-41a6-bde3-cf42c9cb7743]
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould parse valid read DFC payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:127[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould parse valid write DFC payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:174[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould return error for missing UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:205[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould return error for invalid payload format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:224[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mValidate [0m[1mshould validate valid read DFC configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:235[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mValidate [0m[1mshould return error for invalid UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:262[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mValidate [0m[1mshould return error for invalid DFC configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:271[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould successfully add read DFC to empty protocol converter[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:296[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting edit of protocol converter e8122b4c-3fa4-5a8d-88f3-640212f5c4be to add read DFC actionReplyState:action-confirmed actionUUID:b1db4dfc-b1e3-4b26-9368-c8bd29b9a4c4]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:b1db4dfc-b1e3-4b26-9368-c8bd29b9a4c4]
==================
WARNING: DATA RACE
Write at 0x00c0007f0030 by goroutine 544:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0xbbc
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func8.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:347 +0xb64
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c0007f0030 by goroutine 545:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 544 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 545 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xa34
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func8.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:338 +0xa24
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould handle protocol converter not found error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:378[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting edit of protocol converter 5944fb27-f5b7-4790-acdd-c18dc9d293ed to add read DFC actionReplyState:action-confirmed actionUUID:73d9871e-e233-4a0c-90af-f63e66512470]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:73d9871e-e233-4a0c-90af-f63e66512470]
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Failed to apply configuration mutation: protocol converter with UUID 5944fb27-f5b7-4790-acdd-c18dc9d293ed not found actionReplyState:action-failure actionUUID:73d9871e-e233-4a0c-90af-f63e66512470]
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould handle AtomicEditProtocolConverter failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:411[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting edit of protocol converter e8122b4c-3fa4-5a8d-88f3-640212f5c4be to add read DFC actionReplyState:action-confirmed actionUUID:13b7b125-119e-40f2-957f-46df5b0ec986]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:13b7b125-119e-40f2-957f-46df5b0ec986]
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Failed to persist configuration changes: failed to update protocol converter: mock edit protocol converter failure actionReplyState:action-failure actionUUID:13b7b125-119e-40f2-957f-46df5b0ec986]
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould handle config manager get config failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:444[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting edit of protocol converter e8122b4c-3fa4-5a8d-88f3-640212f5c4be to add read DFC actionReplyState:action-confirmed actionUUID:7c07b535-33e5-496e-9f8a-0d2a5372d071]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:7c07b535-33e5-496e-9f8a-0d2a5372d071]
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Failed to apply configuration mutation: failed to get current configuration: mock get config failure actionReplyState:action-failure actionUUID:7c07b535-33e5-496e-9f8a-0d2a5372d071]
[0mGetMetricsAction [38;5;243mParse [0m[1mshould parse valid payload with UUID for DFC metrics[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:148[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mParse [0m[1mshould parse valid payload for Redpanda metrics[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:160[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould validate a valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:172[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould return an error if the metrics type is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:182[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is missing on DFC metrics type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:193[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:204[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould return metrics when metric type is [0m[1mdfc[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:246[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould return metrics when metric type is [0m[1mredpanda[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:247[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0m[1mshould handle metrics provider errors gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:249[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould handle missing FSM instance gracefully: [0m[1mdfc[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:294[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould handle missing FSM instance gracefully: [0m[1mredpanda[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:295[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0m[1mshould return an error when a non-existent DFC UUID is provided[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:298[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mParse [0m[1mshould parse valid get logs payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:185[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070257 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mParse [0m[1mshould return an error if the payload is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:198[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{0  }
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould validate a valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:212[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070258 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the payload is missing a required field[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:226[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070259  405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{0 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the log type is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:252[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070260 invalid 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is missing on DFC log type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:266[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070260 dfc }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is missing on Protocol Converter log types[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:279[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070261 protocol-converter-read }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070261 protocol-converter-write }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:303[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070261 dfc invalid}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mdfc[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:349[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070262 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1magent[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:350[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070263 agent }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mredpanda[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:351[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070263 redpanda }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mprotocol-converter-read[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:352[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070264 protocol-converter-read 3ff48d04-7844-5b3a-8e3b-4bc36fdf86ce}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mprotocol-converter-write[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:353[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070265 protocol-converter-write 3ff48d04-7844-5b3a-8e3b-4bc36fdf86ce}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0m[1mshould return logs for the given start time[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:355[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752163670266 agent }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0m[1mshould handle missing manager errors gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:373[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070267 redpanda }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0m[1mshould handle missing instance errors gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:394[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752088070268 agent }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mParse [0m[1mshould parse valid request payload with UUIDs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:163[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [00000000-0000-0000-0000-000000000001 00000000-0000-0000-0000-000000000002]
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mParse [0m[1mshould parse an empty UUID list[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:183[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: []
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mParse [0m[1mshould handle invalid payload format gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:198[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: []
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mValidate [0m[1mshould validate with any payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:212[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [00000000-0000-0000-0000-000000000001]
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mValidate [0m[1mshould validate even with empty payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:227[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: []
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould retrieve components that match the requested UUIDs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:242[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [244a3369-238c-59cd-93b2-c3f54481c183]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=test-component-1
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[244a3369-238c-59cd-93b2-c3f54481c183:{0  {map[] custom <nil>} test-component-1 <nil> {{0xc0001163c8 <nil> {kafka:
    addresses:
        - localhost:9092
    topics:
        - test-topic
 kafka} {kafka:
    addresses:
        - localhost:9092
    topic: output-topic
 kafka} {map[0:{mapping: root = this
 mapping}] <nil>} 0xc0004d7f00}} active}]
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould return an empty response for non-existent components[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:290[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [11111111-1111-1111-1111-111111111111]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould handle the case when no dataflowcomponent manager exists[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:321[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [00000000-0000-0000-0000-000000000001]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould handle components with missing observed state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:352[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [3e20632c-5b40-5054-9220-3cf6b8c89533]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=test-component-missing-state
 [WARN]	[actions/dataflow-component-parser.go:361:361]	[Communicator]			No observed state found for dataflowcomponent - instanceID=test-component-missing-state
 [WARN]	[actions/get-dataflowcomponent.go:148:148]	[Communicator]			Failed to build dataflowcomponent data: no observed state found for dataflowcomponent
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mbuildDataFlowComponentDataFromSnapshot [0m[1mshould correctly build DataFlowComponentConfig from snapshot[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:412[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [feb26f78-ab1b-51c0-bdc2-60c2da8d0001]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=test-component-build
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[feb26f78-ab1b-51c0-bdc2-60c2da8d0001:{0  {map[] custom <nil>} test-component-build <nil> {{0xc000116280 <nil> {test: input
 test} {test: output
 test} {map[] <nil>} <nil>}} active}]
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mbuildDataFlowComponentDataFromSnapshot [0m[1mshould return error for invalid observed state type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:473[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [b618f24c-e53c-54e8-8090-5777ef56f670]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=invalid-type-component
 [ERROR]	[actions/dataflow-component-parser.go:353:353]	[Communicator]			Observed state is of unexpected type - instanceID=invalid-type-component
 [WARN]	[actions/get-dataflowcomponent.go:148:148]	[Communicator]			Failed to build dataflowcomponent data: invalid observed state type for dataflowcomponent invalid-type-component
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould parse valid custom dataflow component payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:90[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould parse valid custom dataflow component payload with inject data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:126[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for invalid YAML in inject data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:167[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:210[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for unsupported component type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:237[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing customDataFlowComponent[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:254[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing inputs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:273[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing pipeline.processors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:306[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould reject flattened payload structure without customDataFlowComponent[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:341[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mValidate [0m[1mshould pass validation after valid parse[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:378[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould add dataflow component to configuration successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:419[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component): starting actionReplyState:action-confirmed actionUUID:e7e602f4-1344-4ff0-b03f-b313523b009a]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component): adding to configuration actionReplyState:action-executing actionUUID:e7e602f4-1344-4ff0-b03f-b313523b009a]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:e7e602f4-1344-4ff0-b03f-b313523b009a]
==================
WARNING: DATA RACE
Read at 0x00c000a620e0 by goroutine 755:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).GetDataFlowConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:87 +0x30
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:98 +0xf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c000a620e0 by goroutine 754:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).writeConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:146 +0x378
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicAddDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:324 +0x290
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*DeployDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent.go:222 +0x62c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:479 +0xa7c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 755 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xa00
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:475 +0x9f0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 754 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
==================
WARNING: DATA RACE
Read at 0x00c000230800 by goroutine 755:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectAddedComponents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:173 +0x88
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectConfigEvents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:155 +0x100
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:103 +0x208
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c000230800 by goroutine 754:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicAddDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:321 +0x204
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*DeployDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent.go:222 +0x62c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:479 +0xa7c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 755 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xa00
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:475 +0x9f0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 754 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
 [INFO]	[actions/stateMocker.go:182:182]	Detected new dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 29 s]  actionReplyState:action-executing actionUUID:e7e602f4-1344-4ff0-b03f-b313523b009a]
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 active <nil>}
==================
WARNING: DATA RACE
Write at 0x00c00082a930 by goroutine 754:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0xc40
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:485 +0xbe8
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00082a930 by goroutine 755:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 754 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 755 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0xa00
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:475 +0x9f0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 28 s] completed. is in state 'active' with correct configuration actionReplyState:action-executing actionUUID:e7e602f4-1344-4ff0-b03f-b313523b009a]
[38;5;10m• [2.008 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould fail if a non-numerous index is given[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:523[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component): starting actionReplyState:action-confirmed actionUUID:62acdb26-9db9-4b5d-bdd7-98e912d249e2]
==================
WARNING: DATA RACE
Write at 0x00c00082a330 by goroutine 774:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0xc4c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:579 +0xbf4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00082a330 by goroutine 775:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 774 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 775 (finished) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x9fc
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:569 +0x9ec
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component): at least one processor with a non-numerous key was found actionReplyState:action-failure actionUUID:62acdb26-9db9-4b5d-bdd7-98e912d249e2]
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould handle AtomicAddDataflowcomponent failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:583[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component): starting actionReplyState:action-confirmed actionUUID:37cb61a5-c061-4730-b80f-12b68e2bb73b]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component): adding to configuration actionReplyState:action-executing actionUUID:37cb61a5-c061-4730-b80f-12b68e2bb73b]
==================
WARNING: DATA RACE
Write at 0x00c00082a630 by goroutine 785:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0xae4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:632 +0xa8c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00082a630 by goroutine 786:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 785 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 786 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x84c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:621 +0x83c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
==================
WARNING: DATA RACE
Read at 0x00c000122c48 by goroutine 785:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:635 +0xb20
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous write at 0x00c000122c48 by goroutine 784:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.ConsumeOutboundMessages()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/action_helper.go:31 +0xf8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.1.gowrap1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:76 +0x44

Goroutine 785 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 784 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:76 +0x7ac
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component): failed to add dataflow component: mock add dataflow component failure. actionReplyState:action-failure actionUUID:37cb61a5-c061-4730-b80f-12b68e2bb73b]
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould process inject data with cache resources, rate limit resources, and buffer[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:647[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component-with-inject): starting actionReplyState:action-confirmed actionUUID:8ed9c092-96cc-4940-a41c-f21d6375846a]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component-with-inject): adding to configuration actionReplyState:action-executing actionUUID:8ed9c092-96cc-4940-a41c-f21d6375846a]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(test-component-with-inject): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:8ed9c092-96cc-4940-a41c-f21d6375846a]
==================
WARNING: DATA RACE
Read at 0x00c000a624e0 by goroutine 803:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).GetDataFlowConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:87 +0x30
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:98 +0xf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c000a624e0 by goroutine 802:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).writeConfig()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:146 +0x378
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicAddDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:324 +0x290
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*DeployDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent.go:222 +0x62c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:699 +0x8fc
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 803 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x880
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:695 +0x870
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 802 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
==================
WARNING: DATA RACE
Read at 0x00c00046a680 by goroutine 803:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectAddedComponents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:173 +0x88
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.detectConfigEvents()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:155 +0x100
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:103 +0x208
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:461 +0xf4

Previous write at 0x00c00046a680 by goroutine 802:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicAddDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:321 +0x204
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*DeployDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent.go:222 +0x62c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:699 +0x8fc
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 803 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x880
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:695 +0x870
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Goroutine 802 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40
==================
 [INFO]	[actions/stateMocker.go:182:182]	Detected new dataflow component{name 15 0 test-component-with-inject <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 29 s]  actionReplyState:action-executing actionUUID:8ed9c092-96cc-4940-a41c-f21d6375846a]
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 active <nil>}
==================
WARNING: DATA RACE
Write at 0x00c00082a330 by goroutine 802:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0xac0
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:705 +0xa68
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00082a330 by goroutine 803:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 802 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 803 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x880
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.4()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:695 +0x870
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [2.008 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:[left: 28 s] completed. is in state 'active' with correct configuration actionReplyState:action-executing actionUUID:8ed9c092-96cc-4940-a41c-f21d6375846a]
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould deploy dataflow component with initial state 'stopped'[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:724[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(stopped-component): starting actionReplyState:action-confirmed actionUUID:b10e34fa-d722-483d-8d14-0bf6dc1f9fed]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(stopped-component): adding to configuration actionReplyState:action-executing actionUUID:b10e34fa-d722-483d-8d14-0bf6dc1f9fed]
==================
WARNING: DATA RACE
Write at 0x00c00082a630 by goroutine 823:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0x9f8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.5()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:772 +0x9a0
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00082a630 by goroutine 824:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 823 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 824 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x7b8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func4.5.5()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:762 +0x7a8
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:deploy(stopped-component): configuration updated; but ignoring the health check actionReplyState:action-executing actionUUID:b10e34fa-d722-483d-8d14-0bf6dc1f9fed]
[0mAddDataModelAction [38;5;243mNewAddDataModelAction [0m[1mshould create a new action with correct fields[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:81[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:90[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mParse [0mwith invalid payload type [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:112[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mParse [0mwith nil payload [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:123[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould execute successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:474[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [INFO]	[actions/add-datamodel.go:192:192]	[Communicator]			Successfully created data contract _test-model_v1 for data model test-model
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould send correct action replies to outbound channel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:502[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [INFO]	[actions/add-datamodel.go:192:192]	[Communicator]			Successfully created data contract _test-model_v1 for data model test-model
==================
WARNING: DATA RACE
Write at 0x00c0002208d0 by goroutine 855:
  runtime.recvDirect()
      /usr/local/go/src/runtime/chan.go:405 +0x7c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func1.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:77 +0x38
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c0002208d0 by goroutine 854:
  runtime.chansend1()
      /usr/local/go/src/runtime/chan.go:162 +0x2c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.sendActionReplyInternal()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:298 +0x3b4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.SendActionReplyWithAdditionalContext()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:265 +0x84
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.SendActionReply()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:253 +0xabc
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*AddDataModelAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel.go:193 +0xa10
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func1.5.1.3.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:505 +0x54

Goroutine 855 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:286 +0x20bc
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 854 (finished) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func1.5.1.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:503 +0x94
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.013 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mExecute [0mwhen data contract creation fails [0m[1mshould still succeed but indicate data contract creation failed[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:543[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [WARN]	[actions/add-datamodel.go:188:188]	[Communicator]			Failed to automatically create data contract for data model test-model: data contract creation failed
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return empty payload before parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:574[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mIntegration with different field types [0m[1mshould handle complex nested structures[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:584[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [INFO]	[actions/add-datamodel.go:192:192]	[Communicator]			Successfully created data contract _complex-model_v1 for data model complex-model
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould parse valid location data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:91[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould handle missing location data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:112[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould return error for invalid location format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:125[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould return error for missing enterprise in location[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:137[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mValidate [0m[1mshould validate with valid location data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:153[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mValidate [0m[1mshould validate with nil location[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:166[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould handle nil location gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:177[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould update location successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:208[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould handle GetConfig failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:253[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould handle WriteConfig failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:286[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mGetState [0m[1mshould return the current state of the system[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:57[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mStateTransitions [0m[1mshould simulate a component starting up[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:116[0m
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 test-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle adding a new component[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:170[0m
 [INFO]	[actions/stateMocker.go:182:182]	Detected new dataflow component{name 15 0 new-component <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 new-component <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 new-component <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 new-component <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 new-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle removing a component[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:208[0m
 [INFO]	[actions/stateMocker.go:217:217]	Detected removed dataflow component{name 15 0 existing-component <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 existing-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 existing-component <nil>} {state 15 0 removed <nil>}
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle editing a component's configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:256[0m
 [INFO]	[actions/stateMocker.go:296:296]	Detected changed dataflow component{name 15 0 edit-component <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 edit-component <nil>} {state 15 0 benthos_degraded <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 edit-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle editing a component's configuration with changed component name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:328[0m
 [INFO]	[actions/stateMocker.go:264:264]	Detected changed dataflow component; old name: {oldName 15 0 old-component-name <nil>} {newName 15 0 new-component-name <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 old-component-name <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 old-component-name <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/stateMocker.go:327:327]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould parse valid protocol converter payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:98[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:120[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for missing connection IP[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:138[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for missing connection port[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:156[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for invalid payload format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:174[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mValidate [0m[1mshould pass validation with valid protocol converter configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:186[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mValidate [0m[1mshould fail validation with missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:205[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mExecute [0m[1mshould deploy protocol converter successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:224[0m
 [INFO]	[actions/deploy-protocolconverter.go:126:126]	[Communicator]			Executing DeployProtocolConverter action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting deployment of protocol converter: test-protocol-converter actionReplyState:action-confirmed actionUUID:c172f4d8-488b-474a-84b7-cafe4d0973de]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Adding protocol converter to configuration... actionReplyState:action-executing actionUUID:c172f4d8-488b-474a-84b7-cafe4d0973de]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Waiting for protocol converter to be active... actionReplyState:action-executing actionUUID:c172f4d8-488b-474a-84b7-cafe4d0973de]
==================
WARNING: DATA RACE
Write at 0x00c00082a930 by goroutine 938:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0x504
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func5.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:251 +0x4ac
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00082a930 by goroutine 939:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 938 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 939 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x374
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func5.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:242 +0x364
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.004 seconds][0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Protocol converter successfully deployed and activated actionReplyState:action-executing actionUUID:c172f4d8-488b-474a-84b7-cafe4d0973de]
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mExecute [0m[1mshould handle AtomicAddProtocolConverter failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:283[0m
 [INFO]	[actions/deploy-protocolconverter.go:126:126]	[Communicator]			Executing DeployProtocolConverter action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting deployment of protocol converter: test-protocol-converter actionReplyState:action-confirmed actionUUID:527b6bed-f134-4458-bac7-d6e482a3b353]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Adding protocol converter to configuration... actionReplyState:action-executing actionUUID:527b6bed-f134-4458-bac7-d6e482a3b353]
==================
WARNING: DATA RACE
Write at 0x00c00082a330 by goroutine 955:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0x6a4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func5.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:312 +0x64c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00082a330 by goroutine 956:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 955 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 956 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x40c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func5.5.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:301 +0x3fc
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Failed to add protocol converter: mock add protocol converter failure actionReplyState:action-failure actionUUID:527b6bed-f134-4458-bac7-d6e482a3b353]
[0mDeployProtocolConverter [38;5;243mExecute [0m[1mshould handle duplicate protocol converter name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:316[0m
 [INFO]	[actions/deploy-protocolconverter.go:126:126]	[Communicator]			Executing DeployProtocolConverter action
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Starting deployment of protocol converter: test-protocol-converter actionReplyState:action-confirmed actionUUID:a02b98a7-6af6-4619-8d19-d0e507e65052]
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Adding protocol converter to configuration... actionReplyState:action-executing actionUUID:a02b98a7-6af6-4619-8d19-d0e507e65052]
==================
WARNING: DATA RACE
Write at 0x00c00082a930 by goroutine 969:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Stop()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:486 +0x7cc
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func5.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:352 +0x774
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00082a930 by goroutine 970:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:462 +0x118

Goroutine 969 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 970 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:454 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x534
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func5.5.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:341 +0x524
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:38:38]	received messagemap[actionReplyPayload:Failed to add protocol converter: another protocol converter with name "test-protocol-converter" already exists – choose a unique name actionReplyState:action-failure actionUUID:a02b98a7-6af6-4619-8d19-d0e507e65052]
[0mGetDataModelAction [38;5;243mNewGetDataModelAction [0m[1mshould create a new action with correct parameters[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:90[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:97[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mParse [0mwith invalid payload [0m[1mshould return error for non-map payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:108[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mParse [0mwith invalid payload [0m[1mshould return error for empty payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:114[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mValidate [0mwith valid payload [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:134[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mValidate [0mwith missing name [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:147[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith existing data model [0m[1mshould retrieve data model successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:165[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith existing data model [0m[1mshould send appropriate action replies[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:204[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith non-existing data model [0m[1mshould return error for non-existing data model[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:223[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith config manager error [0m[1mshould return error when config manager fails[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:246[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith complex nested structure [0m[1mshould handle nested structures correctly[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:299[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m

[38;5;10m[1mRan 205 of 205 Specs in 19.411 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m205 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m0 Skipped[0m
--- FAIL: TestActions (19.42s)
    testing.go:1490: race detected during execution of test
FAIL

Ginkgo ran 64 suites in 34.589638166s

There were failures detected in the following suites:
  [38;5;9mactions [38;5;243m./pkg/communicator/actions[0m

Test Suite Failed
