go vet -tags=test ./...
# See lefthook.yaml for more details
nilaway -exclude-pkgs="github.com/prometheus/prometheus/util/textparse,github.com/onsi/ginkgo/v2" -exclude-errors-in-files="integration/" ./...
golangci-lint run ./...
0 issues.
ginkgo -r -v --race --tags=test --label-filter='!integration && !redpanda-extended && !tls' --fail-fast ./...
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/integration.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1557366856/000019.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/internal/fsm.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2881558473/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/pkg/generator.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-856348629/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/graphql.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3090362987/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/topicbrowser.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3848318167/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/pkg/subscriber.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2545932650/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1723766949/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/datamodel.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3871273053/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/benthos.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-40975985/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/benthos_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-4165945292/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/agent_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1059525651/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/s6.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3557537391/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2457324191/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/container.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3998926943/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/fsm/redpanda_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1414813965/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/control.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-425857364/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/agent_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3607217720/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/filesystem.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2027620983/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/container_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1698791687/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/connection.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2308056751/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/benthos.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2532012822/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/benthos_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-721028714/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: UMH Integration Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/integration
=======================================================================================================
Random Seed: [1m1752175945[0m

Will run [1m0[0m of [1m20[0m specs
[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m[38;5;14mS[0m

[38;5;10m[1mRan 0 of 20 Specs in 0.008 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m0 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m20 Skipped[0m
PASS
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/dataflowcomponent.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-337278635/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/protocolconverter/runtime_config.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1740537293/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/redpanda.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-4030466362/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/protocolconverter.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-890660858/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/nmap.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3738577915/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: BaseFSM Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm
================================================================================================
Random Seed: [1m1752175945[0m

Will run [1m8[0m of [1m8[0m specs
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould track errors and reset correctly[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:67[0m
  2025-07-10T21:32:37.380+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:32:37.380+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould detect permanent failure after max retries[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:87[0m
  2025-07-10T21:32:37.382+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:32:37.382+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:32:37.383+0200	ERROR	Backoff manager has exceeded maximum retries, marking as permanently failed: test error
[38;5;10m• [0.009 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould generate appropriate backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:129[0m
  2025-07-10T21:32:37.392+0200	DEBUG	Suspending operations for 1 ticks because of error: reconcile failed
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using backoff functionality [0m[1mshould clear errors with ResetState[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:142[0m
  2025-07-10T21:32:37.394+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:32:37.394+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen working with the FSM [0m[1mshould maintain desired and current states[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:160[0m
  2025-07-10T21:32:37.395+0200	INFO	Setting desired state of FSM test-fsm to stopped
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using SendEvent with different context states [0m[1mshould reject events when context is already cancelled[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:172[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using SendEvent with different context states [0m[1mshould reject events when deadline is too close[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:184[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBaseFSMInstance [38;5;243mwhen using SendEvent with different context states [0m[1mshould accept events with sufficient deadline time remaining[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/internal/fsm/baseFSM_test.go:200[0m
  2025-07-10T21:32:37.401+0200	DEBUG	FSM test-fsm attempting transition: current_state='stopped' -> event='start' (desired_state='running')
  2025-07-10T21:32:37.402+0200	DEBUG	FSM test-fsm successful transition: 'stopped' -> 'running' via event='start' (desired_state='running')
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m

[38;5;10m[1mRan 8 of 8 Specs in 0.024 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m8 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m0 Skipped[0m
PASS
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/starvationchecker.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-650723493/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/s6.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3210337351/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/redpanda_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-906231840/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/benthos_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3858414899/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: Backoff Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff
===============================================================================================
Random Seed: [1m1752175945[0m

Will run [1m25[0m of [1m25[0m specs
[38;5;243m------------------------------[0m
[0mIntegration Tests [38;5;243mwhen using BackoffManager in components [0m[1mshould handle temporary failures with retries[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/integration_test.go:129[0m
  2025-07-10T21:32:38.705+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
  2025-07-10T21:32:38.705+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mIntegration Tests [38;5;243mwhen using BackoffManager in components [0m[1mshould handle permanent failures[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/integration_test.go:155[0m
  2025-07-10T21:32:38.711+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
  2025-07-10T21:32:38.711+0200	ERROR	Backoff manager has exceeded maximum retries, marking as permanently failed: simulated operation failure
[38;5;10m• [0.010 seconds][0m
[38;5;243m------------------------------[0m
[0mIntegration Tests [38;5;243mwhen using BackoffManager in components [0m[1mshould succeed after failures and reset error state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/integration_test.go:181[0m
  2025-07-10T21:32:38.720+0200	DEBUG	Suspending operations for 1 ticks because of error: simulated operation failure
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen initializing [0m[1mshould create a manager with default config[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:55[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen initializing [0m[1mshould create a manager with custom config[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:61[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen handling errors [0m[1mshould track errors and reset correctly[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:67[0m
  2025-07-10T21:32:38.725+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen handling errors [0m[1mshould detect permanent failure after max retries[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:86[0m
  2025-07-10T21:32:38.726+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:32:38.726+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen checking operation skip [0m[1mshould not skip operations initially[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:121[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen checking operation skip [0m[1mshould skip operations in backoff state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:125[0m
  2025-07-10T21:32:38.728+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:32:38.729+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen checking operation skip [0m[1mshould not skip operations after reset[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:135[0m
  2025-07-10T21:32:38.730+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:32:38.730+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen working with backoff errors [0m[1mshould generate appropriate temporary backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:149[0m
  2025-07-10T21:32:38.731+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen working with backoff errors [0m[1mshould generate appropriate permanent backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:160[0m
  2025-07-10T21:32:38.732+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:32:38.732+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen working with backoff errors [0m[1mshould preserve original error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:189[0m
  2025-07-10T21:32:38.733+0200	DEBUG	Suspending operations for 1 ticks because of error: original test error
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using error helpers [0m[1mshould correctly identify temporary backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:199[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using error helpers [0m[1mshould correctly identify permanent failure errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:206[0m
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using error helpers [0m[1mshould not identify regular errors as backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:213[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mintegration with time-based backoff [0m[1mshould respect backoff delay[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:222[0m
  2025-07-10T21:32:38.741+0200	DEBUG	Suspending operations for 1 ticks because of error: test error
  2025-07-10T21:32:38.741+0200	DEBUG	Skipping operation because of error: test error. Remaining ticks: 1
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mBackoffManager [38;5;243mwhen using backoff manager in FSM [0m[1mshould calculate reasonable backoff intervals[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/manager_test.go:243[0m
  2025-07-10T21:32:38.742+0200	DEBUG	Suspending operations for 1 ticks because of error: error1
  2025-07-10T21:32:38.742+0200	DEBUG	Suspending operations for 1 ticks because of error: error2
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen checking error types [0m[1mshould correctly identify temporary backoff errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:29[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen checking error types [0m[1mshould correctly identify permanent failure errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:50[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen checking error types [0m[1mshould handle mixed and special cases[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:71[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould extract the original error from wrapped errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:92[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould handle unwrapped errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:104[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould handle nil errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:111[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mError Helpers [38;5;243mwhen extracting original errors [0m[1mshould handle deeply nested errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/backoff/errors_test.go:116[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m

[38;5;10m[1mRan 25 of 25 Specs in 0.044 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m25 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m0 Skipped[0m
PASS
# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/service/topicbrowser.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3400425588/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/dataflowcomponent.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3023429332/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/protocolconverter.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-584720188/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/connection.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-852010591/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/nmap.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2829887836/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/communicator.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1877669996/000022.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/benthos.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2965422315/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/redpanda_monitor.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-1897236490/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/redpanda.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-2640527531/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/topicbrowser.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-3146845370/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

# github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/test/fsm/s6.test
ld: warning: '/private/var/folders/wf/hh_j900n3zj5glsggqrkjlgw0000gn/T/go-link-4093274431/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626

Running Suite: Actions Suite - /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions
============================================================================================================
Random Seed: [1m1752175945[0m

Will run [1m205[0m of [1m205[0m specs
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mParse [0m[1mshould parse valid get logs payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:185[0m
 [INFO]	[logger/logger.go:178:178]	Logger initialized - level=PRODUCTION, format=PRETTY
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560021 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mParse [0m[1mshould return an error if the payload is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:198[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{0  }
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould validate a valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:212[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560024 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the payload is missing a required field[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:226[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560024  405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{0 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the log type is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:252[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560024 invalid 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is missing on DFC log type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:266[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560025 dfc }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is missing on Protocol Converter log types[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:279[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560025 protocol-converter-read }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560026 protocol-converter-write }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:303[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560026 dfc invalid}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mdfc[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:349[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560026 dfc 405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1magent[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:350[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560029 agent }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mredpanda[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:351[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560030 redpanda }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mprotocol-converter-read[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:352[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560031 protocol-converter-read 3ff48d04-7844-5b3a-8e3b-4bc36fdf86ce}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0mshould return logs when log type is [0m[1mprotocol-converter-write[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:353[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560031 protocol-converter-write 3ff48d04-7844-5b3a-8e3b-4bc36fdf86ce}
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0m[1mshould return logs for the given start time[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:355[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752165160032 agent }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0m[1mshould handle missing manager errors gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:373[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560033 redpanda }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetLogsAction [38;5;243mExecute [0m[1mshould handle missing instance errors gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-logs_test.go:394[0m
 [INFO]	[actions/get-logs.go:76:76]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-logs.go:78:78]	[Communicator]			Payload parsed: %v{1752089560035 agent }
 [INFO]	[actions/get-logs.go:87:87]	[Communicator]			Validating the payload
 [INFO]	[actions/get-logs.go:148:148]	[Communicator]			Executing GetLogs action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mNewEditDataModelAction [0m[1mshould create a new action with correct fields[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:80[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:89[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mParse [0mwith invalid payload type [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:114[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mParse [0mwith nil payload [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:125[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith valid payload [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:149[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith missing name [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:168[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith empty structure [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:185[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith nil structure [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:202[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith valid data model structure [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:236[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid _refModel format [0m[1mshould fail with no version[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:243[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid _refModel format [0m[1mshould fail with no version in complex name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:262[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid _refModel format [0m[1mshould fail with empty version[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:281[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid version format [0m[1mshould fail with version not matching v\d+[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:302[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid field combinations [0m[1mshould fail when field has both _type and _refModel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:324[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid field combinations [0m[1mshould fail when field has both subfields and _refModel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:345[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid leaf nodes [0m[1mshould fail when leaf node has no _type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:372[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith invalid submodel nodes [0m[1mshould fail when submodel node has additional fields besides _refModel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:389[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mValidate [0mwith multiple validation errors [0m[1mshould return all validation errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:412[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould execute successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:498[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
 [INFO]	[actions/edit-datamodel.go:228:228]	[Communicator]			Successfully created data contract _existing-model_v2 for data model existing-model version v2
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould send correct action replies to outbound channel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:516[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
 [INFO]	[actions/edit-datamodel.go:228:228]	[Communicator]			Successfully created data contract _existing-model_v2 for data model existing-model version v2
==================
WARNING: DATA RACE
Write at 0x00c00023e780 by goroutine 147:
  runtime.recvDirect()
      /usr/local/go/src/runtime/chan.go:405 +0x7c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func7.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:76 +0x38
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c00023e780 by goroutine 145:
  runtime.chansend1()
      /usr/local/go/src/runtime/chan.go:162 +0x2c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.sendActionReplyInternal()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:298 +0x3b4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.SendActionReplyWithAdditionalContext()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:265 +0x84
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.SendActionReply()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:253 +0xe34
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataModelAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel.go:229 +0xd68
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func7.6.1.3.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:519 +0x54

Goroutine 147 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:286 +0x20bc
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 145 (finished) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func7.6.1.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:517 +0x94
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.013 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mExecute [0mwith configuration manager error [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:556[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return empty payload before parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:571[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return parsed payload after parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:578[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataModelAction [38;5;243mIntegration with different field types [0m[1mshould handle editing model with complex nested structures[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-datamodel_test.go:600[0m
 [INFO]	[actions/edit-datamodel.go:150:150]	[Communicator]			Executing EditDataModel action
 [INFO]	[actions/edit-datamodel.go:228:228]	[Communicator]			Successfully created data contract _complex-model_v2 for data model complex-model version v2
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould parse valid protocol converter payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:98[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:120[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for missing connection IP[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:138[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for missing connection port[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:156[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mParse [0m[1mshould return error for invalid payload format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:174[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mValidate [0m[1mshould pass validation with valid protocol converter configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:186[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mValidate [0m[1mshould fail validation with missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:205[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mExecute [0m[1mshould deploy protocol converter successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:224[0m
 [INFO]	[actions/deploy-protocolconverter.go:126:126]	[Communicator]			Executing DeployProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting deployment of protocol converter: test-protocol-converter actionReplyState:action-confirmed actionUUID:f2c55afa-c933-4671-90e1-9a5e50f2fb5f]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Adding protocol converter to configuration... actionReplyState:action-executing actionUUID:f2c55afa-c933-4671-90e1-9a5e50f2fb5f]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Waiting for protocol converter to be active... actionReplyState:action-executing actionUUID:f2c55afa-c933-4671-90e1-9a5e50f2fb5f]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Protocol converter successfully deployed and activated actionReplyState:action-executing actionUUID:f2c55afa-c933-4671-90e1-9a5e50f2fb5f]
[38;5;10m• [0.100 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mExecute [0m[1mshould handle AtomicAddProtocolConverter failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:283[0m
 [INFO]	[actions/deploy-protocolconverter.go:126:126]	[Communicator]			Executing DeployProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting deployment of protocol converter: test-protocol-converter actionReplyState:action-confirmed actionUUID:833aff73-1fe4-4464-b664-c7b5cb47147f]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Adding protocol converter to configuration... actionReplyState:action-executing actionUUID:833aff73-1fe4-4464-b664-c7b5cb47147f]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to add protocol converter: mock add protocol converter failure actionReplyState:action-failure actionUUID:833aff73-1fe4-4464-b664-c7b5cb47147f]
[38;5;10m• [0.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployProtocolConverter [38;5;243mExecute [0m[1mshould handle duplicate protocol converter name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-protocolconverter_test.go:316[0m
 [INFO]	[actions/deploy-protocolconverter.go:126:126]	[Communicator]			Executing DeployProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting deployment of protocol converter: test-protocol-converter actionReplyState:action-confirmed actionUUID:49e25f04-c975-4753-851b-042fa39f92fb]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Adding protocol converter to configuration... actionReplyState:action-executing actionUUID:49e25f04-c975-4753-851b-042fa39f92fb]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to add protocol converter: another protocol converter with name "test-protocol-converter" already exists – choose a unique name actionReplyState:action-failure actionUUID:49e25f04-c975-4753-851b-042fa39f92fb]
[38;5;10m• [0.100 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mNewGetDataModelAction [0m[1mshould create a new action with correct parameters[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:90[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:97[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mParse [0mwith invalid payload [0m[1mshould return error for non-map payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:108[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mParse [0mwith invalid payload [0m[1mshould return error for empty payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:114[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mValidate [0mwith valid payload [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:134[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mValidate [0mwith missing name [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:147[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith existing data model [0m[1mshould retrieve data model successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:165[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith existing data model [0m[1mshould send appropriate action replies[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:204[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith non-existing data model [0m[1mshould return error for non-existing data model[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:223[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith config manager error [0m[1mshould return error when config manager fails[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:246[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataModelAction [38;5;243mExecute [0mwith complex nested structure [0m[1mshould handle nested structures correctly[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-datamodel_test.go:299[0m
 [INFO]	[actions/get-datamodel.go:100:100]	[Communicator]			Executing GetDataModel action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould parse valid read DFC payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:127[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould parse valid write DFC payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:174[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould return error for missing UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:205[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mParse [0m[1mshould return error for invalid payload format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:224[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mValidate [0m[1mshould validate valid read DFC configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:235[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mValidate [0m[1mshould return error for invalid UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:262[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mValidate [0m[1mshould return error for invalid DFC configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:271[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould successfully add read DFC to empty protocol converter[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:296[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting edit of protocol converter e8122b4c-3fa4-5a8d-88f3-640212f5c4be to add read DFC actionReplyState:action-confirmed actionUUID:fd467220-109f-495b-ab05-78011cbdb5af]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:fd467220-109f-495b-ab05-78011cbdb5af]
[38;5;10m• [0.101 seconds][0m
[38;5;243m------------------------------[0m
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould handle protocol converter not found error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:378[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting edit of protocol converter 4c1efabd-d719-4565-8111-beb5d7216d63 to add read DFC actionReplyState:action-confirmed actionUUID:6a02cb44-3559-4a3f-b074-3b666550abfd]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:6a02cb44-3559-4a3f-b074-3b666550abfd]
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to apply configuration mutation: protocol converter with UUID 4c1efabd-d719-4565-8111-beb5d7216d63 not found actionReplyState:action-failure actionUUID:6a02cb44-3559-4a3f-b074-3b666550abfd]
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould handle AtomicEditProtocolConverter failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:411[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting edit of protocol converter e8122b4c-3fa4-5a8d-88f3-640212f5c4be to add read DFC actionReplyState:action-confirmed actionUUID:d916a289-30da-4124-b425-f54c9874ac2e]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:d916a289-30da-4124-b425-f54c9874ac2e]
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to persist configuration changes: failed to update protocol converter: mock edit protocol converter failure actionReplyState:action-failure actionUUID:d916a289-30da-4124-b425-f54c9874ac2e]
[0mEditProtocolConverter [38;5;243mExecute [0m[1mshould handle config manager get config failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-protocolconverter_test.go:444[0m
 [INFO]	[actions/edit-protocolconverter.go:213:213]	[Communicator]			Executing EditProtocolConverter action
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Starting edit of protocol converter e8122b4c-3fa4-5a8d-88f3-640212f5c4be to add read DFC actionReplyState:action-confirmed actionUUID:482d26d8-199c-42d1-9612-040e25f0e825]
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Updating protocol converter configuration with read DFC... actionReplyState:action-executing actionUUID:482d26d8-199c-42d1-9612-040e25f0e825]
[38;5;10m• [0.002 seconds][0m
 [INFO]	[actions/action_helper.go:85:85]	received messagemap[actionReplyPayload:Failed to apply configuration mutation: failed to get current configuration: mock get config failure actionReplyState:action-failure actionUUID:482d26d8-199c-42d1-9612-040e25f0e825]
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mParse [0m[1mshould parse valid payload with UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:326[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mParse [0m[1mshould return an error for invalid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:336[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{}
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mValidate [0m[1mshould validate a valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:348[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mValidate [0m[1mshould return an error if the UUID is missing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:360[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mValidate [0m[1mshould return an error if the UUID is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:371[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{invalid-uuid}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mExecute [0m[1mshould return metrics for a valid DFC UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:386[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mExecute [0m[1mshould return an error when the DFC instance is not found[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:443[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{b1595bd4-6be4-4492-97a1-3e2a6edac86e}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataflowcomponentMetricsAction [38;5;243mExecute [0m[1mshould handle the case when no dataflowcomponent manager exists[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent-metrics_test.go:462[0m
 [INFO]	[actions/get-dataflowcomponent-metrics.go:60:60]	Parsing the payload
 [INFO]	[actions/get-dataflowcomponent-metrics.go:62:62]	Payload parsed: %v{405c829b-dc47-5270-b7bf-e89a9fcdaf47}
 [INFO]	[actions/get-dataflowcomponent-metrics.go:67:67]	Validating the payload
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mParse [0m[1mshould parse valid payload with UUID for DFC metrics[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:148[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mParse [0m[1mshould parse valid payload for Redpanda metrics[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:160[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould validate a valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:172[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould return an error if the metrics type is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:182[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is missing on DFC metrics type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:193[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mValidate [0m[1mshould return an error if the uuid is invalid[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:204[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould return metrics when metric type is [0m[1mdfc[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:246[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould return metrics when metric type is [0m[1mredpanda[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:247[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0m[1mshould handle metrics provider errors gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:249[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould handle missing FSM instance gracefully: [0m[1mdfc[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:294[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0mshould handle missing FSM instance gracefully: [0m[1mredpanda[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:295[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetMetricsAction [38;5;243mExecute [0m[1mshould return an error when a non-existent DFC UUID is provided[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-metrics_test.go:298[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mParse [0m[1mshould not have any payload to parse[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:89[0m
 [INFO]	[actions/get-config-file.go:65:65]	[Communicator]			Parsing GetConfigFile payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mValidate [0m[1mshould pass validation[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:97[0m
 [INFO]	[actions/get-config-file.go:73:73]	[Communicator]			Validating GetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould return the config file content[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:104[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould include the last modified time in the response[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:117[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould preserve YAML anchors in the config file[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:141[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould handle filesystem errors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:213[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetConfigFile [38;5;243mExecute [0m[1mshould respect context timeout[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-config-file_test.go:229[0m
 [INFO]	[actions/get-config-file.go:80:80]	[Communicator]			Executing GetConfigFile action
[38;5;10m• [1.005 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mNewAddDataModelAction [0m[1mshould create a new action with correct fields[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:81[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:90[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mParse [0mwith invalid payload type [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:112[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mParse [0mwith nil payload [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:123[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould execute successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:474[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [INFO]	[actions/add-datamodel.go:192:192]	[Communicator]			Successfully created data contract _test-model_v1 for data model test-model
[38;5;10m• [0.007 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould send correct action replies to outbound channel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:502[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [INFO]	[actions/add-datamodel.go:192:192]	[Communicator]			Successfully created data contract _test-model_v1 for data model test-model
==================
WARNING: DATA RACE
Write at 0x00c000410b00 by goroutine 446:
  runtime.recvDirect()
      /usr/local/go/src/runtime/chan.go:405 +0x7c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func1.2()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:77 +0x38
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c000410b00 by goroutine 445:
  runtime.chansend1()
      /usr/local/go/src/runtime/chan.go:162 +0x2c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.sendActionReplyInternal()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:298 +0x3b4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.SendActionReplyWithAdditionalContext()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:265 +0x84
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.SendActionReply()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions.go:253 +0xabc
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*AddDataModelAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel.go:193 +0xa10
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func1.5.1.3.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:505 +0x54

Goroutine 446 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:286 +0x20bc
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 445 (finished) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func1.5.1.3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:503 +0x94
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
[38;5;10m• [0.012 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mExecute [0mwhen data contract creation fails [0m[1mshould still succeed but indicate data contract creation failed[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:543[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [WARN]	[actions/add-datamodel.go:188:188]	[Communicator]			Failed to automatically create data contract for data model test-model: data contract creation failed
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return empty payload before parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:574[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAddDataModelAction [38;5;243mIntegration with different field types [0m[1mshould handle complex nested structures[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/add-datamodel_test.go:584[0m
 [INFO]	[actions/add-datamodel.go:149:149]	[Communicator]			Executing AddDataModel action
 [INFO]	[actions/add-datamodel.go:192:192]	[Communicator]			Successfully created data contract _complex-model_v1 for data model complex-model
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould parse valid custom dataflow component payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:91[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould parse valid custom dataflow component payload with inject data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:127[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for invalid YAML in inject data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:168[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:211[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for unsupported component type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:238[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing customDataFlowComponent[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:255[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing inputs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:274[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould return error for missing pipeline.processors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:307[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mParse [0m[1mshould reject flattened payload structure without customDataFlowComponent[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:342[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mValidate [0m[1mshould pass validation after valid parse[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:379[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould add dataflow component to configuration successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:420[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component): starting actionReplyState:action-confirmed actionUUID:9f7e8290-b8ab-4815-a473-ee1b92822bed]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component): adding to configuration actionReplyState:action-executing actionUUID:9f7e8290-b8ab-4815-a473-ee1b92822bed]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:9f7e8290-b8ab-4815-a473-ee1b92822bed]
 [INFO]	[actions/stateMocker.go:183:183]	Detected new dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 29 s]  actionReplyState:action-executing actionUUID:9f7e8290-b8ab-4815-a473-ee1b92822bed]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 active <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 28 s] completed. is in state 'active' with correct configuration actionReplyState:action-executing actionUUID:9f7e8290-b8ab-4815-a473-ee1b92822bed]
[38;5;10m• [2.102 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould fail if a non-numerous index is given[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:524[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component): starting actionReplyState:action-confirmed actionUUID:ba4067c1-8735-463e-ae2f-d1f18243524c]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component): at least one processor with a non-numerous key was found actionReplyState:action-failure actionUUID:ba4067c1-8735-463e-ae2f-d1f18243524c]
[38;5;10m• [0.102 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould handle AtomicAddDataflowcomponent failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:584[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component): starting actionReplyState:action-confirmed actionUUID:59794c5f-291f-457e-bf7c-3c258a3f3e7a]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component): adding to configuration actionReplyState:action-executing actionUUID:59794c5f-291f-457e-bf7c-3c258a3f3e7a]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component): failed to add dataflow component: mock add dataflow component failure. actionReplyState:action-failure actionUUID:59794c5f-291f-457e-bf7c-3c258a3f3e7a]
[38;5;10m• [0.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould process inject data with cache resources, rate limit resources, and buffer[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:648[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component-with-inject): starting actionReplyState:action-confirmed actionUUID:cc501264-d940-41b0-b1a6-22c16bb51589]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component-with-inject): adding to configuration actionReplyState:action-executing actionUUID:cc501264-d940-41b0-b1a6-22c16bb51589]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(test-component-with-inject): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:cc501264-d940-41b0-b1a6-22c16bb51589]
 [INFO]	[actions/stateMocker.go:183:183]	Detected new dataflow component{name 15 0 test-component-with-inject <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 29 s]  actionReplyState:action-executing actionUUID:cc501264-d940-41b0-b1a6-22c16bb51589]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-with-inject <nil>} {state 15 0 active <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 28 s] completed. is in state 'active' with correct configuration actionReplyState:action-executing actionUUID:cc501264-d940-41b0-b1a6-22c16bb51589]
[38;5;10m• [2.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeployDataflowComponent [38;5;243mExecute [0m[1mshould deploy dataflow component with initial state 'stopped'[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/deploy-dataflowcomponent_test.go:725[0m
 [INFO]	[actions/deploy-dataflowcomponent.go:202:202]	[Communicator]			Executing DeployDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(stopped-component): starting actionReplyState:action-confirmed actionUUID:4096d12c-0f7b-40cc-8025-926b34e3c305]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(stopped-component): adding to configuration actionReplyState:action-executing actionUUID:4096d12c-0f7b-40cc-8025-926b34e3c305]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:deploy(stopped-component): configuration updated; but ignoring the health check actionReplyState:action-executing actionUUID:4096d12c-0f7b-40cc-8025-926b34e3c305]
[38;5;10m• [0.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mParse [0m[1mshould parse valid UUID payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:101[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mParse [0m[1mshould return error for missing UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:113[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mParse [0m[1mshould return error for invalid UUID format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:123[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mValidate [0m[1mshould pass validation with valid UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:137[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mExecute [0m[1mshould delete existing dataflow component from configuration successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:153[0m
 [INFO]	[actions/delete-dataflowcomponent.go:141:141]	[Communicator]			Executing DeleteDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Starting deletion of dataflow component with UUID: 957e97dc-fbe9-5c5c-be05-3484460901a9 actionReplyState:action-confirmed actionUUID:7cc080d5-e5cd-4672-8769-511cbfe9b57c]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Removing dataflow component from configuration... actionReplyState:action-executing actionUUID:7cc080d5-e5cd-4672-8769-511cbfe9b57c]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Configuration updated. Waiting for dataflow component to be fully removed from the system... actionReplyState:action-executing actionUUID:7cc080d5-e5cd-4672-8769-511cbfe9b57c]
 [INFO]	[actions/stateMocker.go:218:218]	Detected removed dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Verifying removal of dataflow component 'test-component' (28s remaining)... actionReplyState:action-executing actionUUID:7cc080d5-e5cd-4672-8769-511cbfe9b57c]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Component 'test-component' still exists in state 'removed'. Waiting for removal (28s remaining)... actionReplyState:action-executing actionUUID:7cc080d5-e5cd-4672-8769-511cbfe9b57c]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Verifying removal of dataflow component 'test-component' (27s remaining)... actionReplyState:action-executing actionUUID:7cc080d5-e5cd-4672-8769-511cbfe9b57c]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Dataflow component 'test-component' has been successfully removed from the system. actionReplyState:action-executing actionUUID:7cc080d5-e5cd-4672-8769-511cbfe9b57c]
[38;5;10m• [2.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mExecute [0m[1mshould handle AtomicDeleteDataflowcomponent failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:185[0m
 [INFO]	[actions/delete-dataflowcomponent.go:141:141]	[Communicator]			Executing DeleteDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Starting deletion of dataflow component with UUID: 957e97dc-fbe9-5c5c-be05-3484460901a9 actionReplyState:action-confirmed actionUUID:6bef7c64-0032-4871-b671-1c92c399d03b]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Removing dataflow component from configuration... actionReplyState:action-executing actionUUID:6bef7c64-0032-4871-b671-1c92c399d03b]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Failed to delete dataflow component: mock delete dataflow component failure actionReplyState:action-failure actionUUID:6bef7c64-0032-4871-b671-1c92c399d03b]
[38;5;10m• [0.101 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataflowComponent [38;5;243mExecute [0m[1mshould return error when component not found[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-dataflowcomponent_test.go:224[0m
 [INFO]	[actions/delete-dataflowcomponent.go:141:141]	[Communicator]			Executing DeleteDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Starting deletion of dataflow component with UUID: 28d3f370-ef9b-4a95-b6c2-70d8d355771d actionReplyState:action-confirmed actionUUID:14e91561-4182-422a-b5d7-e2ac970710d7]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Removing dataflow component from configuration... actionReplyState:action-executing actionUUID:14e91561-4182-422a-b5d7-e2ac970710d7]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:Failed to delete dataflow component: dataflow component with UUID not found actionReplyState:action-failure actionUUID:14e91561-4182-422a-b5d7-e2ac970710d7]
[38;5;10m• [0.102 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mParse [0m[1mshould parse valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:94[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mParse [0m[1mshould handle invalid payload format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:103[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould pass validation with valid payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:112[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould pass validation with valid YAML containing anchors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:124[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould fail validation with empty content[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:158[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould fail validation with invalid YAML content[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:171[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mValidate [0m[1mshould fail validation with empty lastModifiedTime[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:196[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:83:83]	[Communicator]			Validating SetConfigFile action
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould successfully update the config file[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:220[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould successfully update the config file with YAML anchors[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:235[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould detect concurrent modification[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:287[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mSetConfigFile [38;5;243mExecute [0m[1mshould retrieve a new last modified time[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/set-config-file_test.go:301[0m
 [INFO]	[actions/set-config-file.go:69:69]	[Communicator]			Parsing SetConfigFile payload
 [INFO]	[actions/set-config-file.go:109:109]	[Communicator]			Executing SetConfigFile action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mGetState [0m[1mshould return the current state of the system[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:57[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mStateTransitions [0m[1mshould simulate a component starting up[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:116[0m
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle adding a new component[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:170[0m
 [INFO]	[actions/stateMocker.go:183:183]	Detected new dataflow component{name 15 0 new-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle removing a component[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:208[0m
 [INFO]	[actions/stateMocker.go:218:218]	Detected removed dataflow component{name 15 0 existing-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 existing-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 existing-component <nil>} {state 15 0 removed <nil>}
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle editing a component's configuration[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:256[0m
 [INFO]	[actions/stateMocker.go:297:297]	Detected changed dataflow component{name 15 0 edit-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 edit-component <nil>} {state 15 0 benthos_degraded <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 edit-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mStateMocker [38;5;243mConfigEvents [0m[1mshould handle editing a component's configuration with changed component name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker_test.go:328[0m
 [INFO]	[actions/stateMocker.go:265:265]	Detected changed dataflow component; old name: {oldName 15 0 old-component-name <nil>} {newName 15 0 new-component-name <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 old-component-name <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 old-component-name <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 new-component-name <nil>} {state 15 0 active <nil>}
[38;5;10m• [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould parse valid edit dataflow component payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:124[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for missing UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:161[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for invalid UUID format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:189[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for missing name[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:206[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for missing meta type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:234[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould return error for unsupported component type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:261[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mParse [0m[1mshould handle parse with inject data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:278[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mValidate [0m[1mshould pass validation after valid parse[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:320[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mValidate [0m[1mshould fail validation with invalid YAML in processor[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:359[0m
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould edit dataflow component in configuration successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:401[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:286b2048-deea-488f-8498-19059cc718dd]
==================
WARNING: DATA RACE
Write at 0x00c0008da980 by goroutine 766:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/config.(*MockConfigManager).AtomicEditDataflowcomponent()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/config/mock.go:403 +0x638
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*EditDataflowComponentAction).Execute()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent.go:471 +0x1e48
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:454 +0x8b4
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0

Previous read at 0x00c0008da980 by goroutine 767:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.createDfcManagerSnapshot()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:417 +0xa8c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Tick()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:119 +0x3b0
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run.func1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:464 +0xf0

Goroutine 766 (running) created at:
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:881 +0xdec
  github.com/onsi/ginkgo/v2/internal.(*group).attemptSpec()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:199 +0xb60
  github.com/onsi/ginkgo/v2/internal.(*group).run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/group.go:349 +0xc78
  github.com/onsi/ginkgo/v2/internal.(*Suite).runSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:489 +0xc30
  github.com/onsi/ginkgo/v2/internal.(*Suite).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:130 +0x420
  github.com/onsi/ginkgo/v2.RunSpecs()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/core_dsl.go:300 +0xcf4
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.TestActions()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/actions_suite_test.go:26 +0x54
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1792 +0x180
  testing.(*T).Run.gowrap1()
      /usr/local/go/src/testing/testing.go:1851 +0x40

Goroutine 767 (running) created at:
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Run()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:455 +0xe8
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions.(*StateMocker).Start()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/stateMocker.go:474 +0x82c
  github.com/united-manufacturing-hub/united-manufacturing-hub/umh-core/pkg/communicator/actions_test.init.func6.5.1()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:449 +0x81c
  github.com/onsi/ginkgo/v2/internal.extractBodyFunction.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/node.go:475 +0x30
  github.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()
      /Users/fl/Git/umh3/united-manufacturing-hub/umh-core/vendor/github.com/onsi/ginkgo/v2/internal/suite.go:894 +0xf0
==================
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:286b2048-deea-488f-8498-19059cc718dd]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:286b2048-deea-488f-8498-19059cc718dd]
 [INFO]	[actions/stateMocker.go:265:265]	Detected changed dataflow component; old name: {oldName 15 0 test-component <nil>} {newName 15 0 test-component-updated <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 28 s] waiting for it to appear in the config actionReplyState:action-executing actionUUID:286b2048-deea-488f-8498-19059cc718dd]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 27 s]  actionReplyState:action-executing actionUUID:286b2048-deea-488f-8498-19059cc718dd]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 active <nil>}
[38;5;10m• [4.102 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould preserve processor order when using numeric keys[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:481[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:396a4d53-98a4-45d0-9112-194abd7da681]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:396a4d53-98a4-45d0-9112-194abd7da681]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:396a4d53-98a4-45d0-9112-194abd7da681]
 [INFO]	[actions/stateMocker.go:265:265]	Detected changed dataflow component; old name: {oldName 15 0 test-component <nil>} {newName 15 0 test-component-updated <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 28 s] waiting for it to appear in the config actionReplyState:action-executing actionUUID:396a4d53-98a4-45d0-9112-194abd7da681]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 27 s]  actionReplyState:action-executing actionUUID:396a4d53-98a4-45d0-9112-194abd7da681]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 active <nil>}
[38;5;10m• [3.103 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould handle edit with inject data containing cache resources[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:570[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:79ca9d3d-ee23-46b7-9b3f-536351e0667c]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:79ca9d3d-ee23-46b7-9b3f-536351e0667c]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:79ca9d3d-ee23-46b7-9b3f-536351e0667c]
 [INFO]	[actions/stateMocker.go:265:265]	Detected changed dataflow component; old name: {oldName 15 0 test-component <nil>} {newName 15 0 test-component-updated <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removing <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 removed <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 28 s] waiting for it to appear in the config actionReplyState:action-executing actionUUID:79ca9d3d-ee23-46b7-9b3f-536351e0667c]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 to_be_created <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 creating <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 starting <nil>}
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:[left: 27 s]  actionReplyState:action-executing actionUUID:79ca9d3d-ee23-46b7-9b3f-536351e0667c]
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component-updated <nil>} {state 15 0 active <nil>}
[38;5;10m• [3.102 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould successfully edit component state from active to stopped and back[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:642[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component): starting actionReplyState:action-confirmed actionUUID:39395645-9b14-44f7-be5e-285da722575d]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component): updating configuration actionReplyState:action-executing actionUUID:39395645-9b14-44f7-be5e-285da722575d]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:39395645-9b14-44f7-be5e-285da722575d]
 [INFO]	[actions/stateMocker.go:297:297]	Detected changed dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 benthos_degraded <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 stopped <nil>}
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component): starting actionReplyState:action-confirmed actionUUID:39395645-9b14-44f7-be5e-285da722575d]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component): updating configuration actionReplyState:action-executing actionUUID:39395645-9b14-44f7-be5e-285da722575d]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component): configuration updated; waiting to become ready actionReplyState:action-executing actionUUID:39395645-9b14-44f7-be5e-285da722575d]
 [INFO]	[actions/stateMocker.go:297:297]	Detected changed dataflow component{name 15 0 test-component <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 benthos_degraded <nil>}
 [INFO]	[actions/stateMocker.go:328:328]	Transition applied{component 15 0 test-component <nil>} {state 15 0 active <nil>}
[38;5;10m• [2.102 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould handle AtomicEditDataflowcomponent failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:787[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:da269112-1284-4b82-ac43-e1b97aa54711]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:da269112-1284-4b82-ac43-e1b97aa54711]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): failed to edit dataflow component: mock edit dataflow component failure actionReplyState:action-failure actionUUID:da269112-1284-4b82-ac43-e1b97aa54711]
[38;5;10m• [0.007 seconds][0m
[38;5;243m------------------------------[0m
[0mEditDataflowComponent [38;5;243mExecute [0m[1mshould handle failure when component not found[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit-dataflowcomponent_test.go:844[0m
 [INFO]	[actions/edit-dataflowcomponent.go:317:317]	[Communicator]			Executing EditDataflowComponent action
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): starting actionReplyState:action-confirmed actionUUID:6de4af09-5e80-477b-b035-efb27b5856d8]
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): updating configuration actionReplyState:action-executing actionUUID:6de4af09-5e80-477b-b035-efb27b5856d8]
[38;5;10m• [0.005 seconds][0m
 [INFO]	[actions/action_helper.go:102:102]	received messagemap[actionReplyPayload:edit(test-component-updated): failed to edit dataflow component: dataflow component with UUID not found actionReplyState:action-failure actionUUID:6de4af09-5e80-477b-b035-efb27b5856d8]
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mNewDeleteDataModelAction [0m[1mshould create a new action with correct fields[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:103[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mParse [0mwith valid payload [0m[1mshould parse successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:110[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mParse [0mwith invalid payload type [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:124[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mParse [0mwith nil payload [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:135[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mValidate [0mwith valid payload [0m[1mshould validate successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:154[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mValidate [0mwith missing name [0m[1mshould return validation error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:169[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould execute successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:187[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwith successful configuration update [0m[1mshould send correct action replies to outbound channel[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:203[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.013 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwhen data model does not exist [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:235[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mExecute [0mwhen config manager fails [0m[1mshould return error[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:256[0m
 [INFO]	[actions/delete-datamodel.go:97:97]	[Communicator]			Executing DeleteDataModel action
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return empty payload before parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:267[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mDeleteDataModelAction [38;5;243mGetParsedPayload [0m[1mshould return parsed payload after parsing[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/delete-datamodel_test.go:272[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mParse [0m[1mshould parse valid request payload with UUID[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:80[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 1b3b0f16-103f-49c6-bbc7-95acf079153d
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mParse [0m[1mshould handle invalid payload format gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:95[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 00000000-0000-0000-0000-000000000000
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mParse [0m[1mshould handle malformed UUID gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:111[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 00000000-0000-0000-0000-000000000000
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mValidate [0m[1mshould validate with any parsed payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:124[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: c410ae5a-b12e-4142-afa7-44b83d6ac6da
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter exists and is initialized [0m[1mshould return protocol converter with read and write DFC[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:141[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 3ff48d04-7844-5b3a-8e3b-4bc36fdf86ce
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [INFO]	[actions/get-protocolconverter.go:352:352]	[Communicator]			Protocol converter found and built, returning response
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter exists but is not initialized [0m[1mshould return protocol converter without DFC configs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:292[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: af0addc7-1ff5-51af-ae6d-0142bcef929d
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [INFO]	[actions/get-protocolconverter.go:352:352]	[Communicator]			Protocol converter found and built, returning response
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter does not exist [0m[1mshould return error for non-existent protocol converter[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:385[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: d73ff8e8-da9c-436c-8e04-0a8220efce30
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter manager does not exist [0m[1mshould return error when no protocol converter manager exists[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:416[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: ad24e106-548b-43dd-8ff5-41c23b4860ed
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter has invalid observed state [0m[1mshould return error for invalid observed state type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:442[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: c787986c-53f0-5014-b5d9-a23c27039107
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [ERROR]	[actions/get-protocolconverter.go:222:222]	[Communicator]			Observed state is of unexpected type - instanceID=test-protocol-converter-invalid-state
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetProtocolConverter [38;5;243mExecute [0mwhen protocol converter has invalid observed state [0m[1mshould return error for nil observed state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-protocolconverter_test.go:485[0m
 [INFO]	[actions/get-protocolconverter.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-protocolconverter.go:116:116]	[Communicator]			Payload parsed, uuid: 940cf3ed-783c-557e-91a1-50ba2093d36d
 [INFO]	[actions/get-protocolconverter.go:201:201]	[Communicator]			Executing the action
 [ERROR]	[actions/get-protocolconverter.go:222:222]	[Communicator]			Observed state is of unexpected type - instanceID=test-protocol-converter-nil-state
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould parse valid location data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:91[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould handle missing location data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:112[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould return error for invalid location format[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:125[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mParse [0m[1mshould return error for missing enterprise in location[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:137[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mValidate [0m[1mshould validate with valid location data[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:153[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mValidate [0m[1mshould validate with nil location[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:166[0m
[38;5;10m• [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould handle nil location gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:177[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould update location successfully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:208[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould handle GetConfig failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:253[0m
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mEditInstance [38;5;243mExecute [0m[1mshould handle WriteConfig failure[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/edit_instance_test.go:286[0m
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mParse [0m[1mshould parse valid request payload with UUIDs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:163[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [00000000-0000-0000-0000-000000000001 00000000-0000-0000-0000-000000000002]
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mParse [0m[1mshould parse an empty UUID list[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:183[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: []
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mParse [0m[1mshould handle invalid payload format gracefully[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:198[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: []
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mValidate [0m[1mshould validate with any payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:212[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [00000000-0000-0000-0000-000000000001]
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mValidate [0m[1mshould validate even with empty payload[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:227[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: []
[38;5;10m• [0.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould retrieve components that match the requested UUIDs[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:242[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [244a3369-238c-59cd-93b2-c3f54481c183]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=test-component-1
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[244a3369-238c-59cd-93b2-c3f54481c183:{0  {map[] custom <nil>} test-component-1 <nil> {{0xc00021a000 <nil> {kafka:
    addresses:
        - localhost:9092
    topics:
        - test-topic
 kafka} {kafka:
    addresses:
        - localhost:9092
    topic: output-topic
 kafka} {map[0:{mapping: root = this
 mapping}] <nil>} 0xc0004306c0}} active}]
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould return an empty response for non-existent components[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:290[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [11111111-1111-1111-1111-111111111111]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould handle the case when no dataflowcomponent manager exists[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:321[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [00000000-0000-0000-0000-000000000001]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mExecute [0m[1mshould handle components with missing observed state[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:352[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [3e20632c-5b40-5054-9220-3cf6b8c89533]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=test-component-missing-state
 [WARN]	[actions/dataflow-component-parser.go:361:361]	[Communicator]			No observed state found for dataflowcomponent - instanceID=test-component-missing-state
 [WARN]	[actions/get-dataflowcomponent.go:148:148]	[Communicator]			Failed to build dataflowcomponent data: no observed state found for dataflowcomponent
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.004 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mbuildDataFlowComponentDataFromSnapshot [0m[1mshould correctly build DataFlowComponentConfig from snapshot[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:412[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [feb26f78-ab1b-51c0-bdc2-60c2da8d0001]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=test-component-build
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[feb26f78-ab1b-51c0-bdc2-60c2da8d0001:{0  {map[] custom <nil>} test-component-build <nil> {{0xc00021a1d8 <nil> {test: input
 test} {test: output
 test} {map[] <nil>} <nil>}} active}]
[38;5;10m• [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGetDataFlowComponent [38;5;243mbuildDataFlowComponentDataFromSnapshot [0m[1mshould return error for invalid observed state type[0m
[38;5;243m/Users/fl/Git/umh3/united-manufacturing-hub/umh-core/pkg/communicator/actions/get-dataflowcomponent_test.go:473[0m
 [INFO]	[actions/get-dataflowcomponent.go:114:114]	[Communicator]			Parsing the payload
 [INFO]	[actions/get-dataflowcomponent.go:116:116]	[Communicator]			Payload parsed, uuids: [b618f24c-e53c-54e8-8090-5777ef56f670]
 [INFO]	[actions/get-dataflowcomponent.go:127:127]	[Communicator]			Executing the action
 [INFO]	[actions/dataflow-component-parser.go:347:347]	[Communicator]			Building dataflowcomponent data from snapshot - instanceID=invalid-type-component
 [ERROR]	[actions/dataflow-component-parser.go:353:353]	[Communicator]			Observed state is of unexpected type - instanceID=invalid-type-component
 [WARN]	[actions/get-dataflowcomponent.go:148:148]	[Communicator]			Failed to build dataflowcomponent data: invalid observed state type for dataflowcomponent invalid-type-component
 [INFO]	[actions/get-dataflowcomponent.go:168:168]	[Communicator]			Building the response
 [INFO]	[actions/get-dataflowcomponent.go:200:200]	[Communicator]			Response built, returning, response: map[]
[38;5;10m• [0.003 seconds][0m
[38;5;243m------------------------------[0m

[38;5;10m[1mRan 205 of 205 Specs in 20.894 seconds[0m
[38;5;10m[1mSUCCESS![0m -- [38;5;10m[1m205 Passed[0m | [38;5;9m[1m0 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m0 Skipped[0m
--- FAIL: TestActions (20.90s)
    testing.go:1490: race detected during execution of test
FAIL

Ginkgo ran 64 suites in 35.870401083s

There were failures detected in the following suites:
  [38;5;9mactions [38;5;243m./pkg/communicator/actions[0m

Test Suite Failed
